(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t){e.exports=solid.data},25:function(e,t){e.exports=solid.auth},372:function(e,t,n){e.exports=n(725)},473:function(e,t){},475:function(e,t){},685:function(e,t){},687:function(e,t){},718:function(e,t,n){},725:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"documentExists",(function(){return M})),n.d(r,"createDoc",(function(){return B})),n.d(r,"deleteFile",(function(){return _})),n.d(r,"createDocument",(function(){return W})),n.d(r,"createDocumentWithTurtle",(function(){return U})),n.d(r,"createNonExistentDocument",(function(){return V})),n.d(r,"fetchLdflexDocument",(function(){return J})),n.d(r,"resourceExists",(function(){return q})),n.d(r,"discoverInbox",(function(){return X})),n.d(r,"getLinkedInbox",(function(){return H}));var a={};n.r(a),n.d(a,"sendNotification",(function(){return Q})),n.d(a,"findUserInboxes",(function(){return Z})),n.d(a,"getDefaultInbox",(function(){return ee}));var i={};n.r(i),n.d(i,"buildPathFromWebId",(function(){return oe})),n.d(i,"getAppStorage",(function(){return ce})),n.d(i,"createInitialFiles",(function(){return ue})),n.d(i,"checkAndInitializeInbox",(function(){return se}));var o={};n.r(o),n.d(o,"checkSpecificAppPermission",(function(){return de})),n.d(o,"checkPermissions",(function(){return pe})),n.d(o,"checkOrSetInboxAppendPermissions",(function(){return me})),n.d(o,"checkOrSetSettingsReadPermissions",(function(){return fe})),n.d(o,"setReadPermissions",(function(){return he})),n.d(o,"setReadWritePermissions",(function(){return be}));var c=n(0),u=n.n(c),s=n(37),l=n.n(s),d=n(237),p=n(11),m=n(335),f=n.n(m),h=n(336),b=n.n(h),g=new f.a(null,{loadPath:"locales/{{lng}}/{{ns}}.json"});d.a.use(g).use(b.a).use(p.b).init({fallbackLng:"en-US",debug:!1,whitelist:["en-US","en","es"],react:{wait:!0}});d.a;var v=n(69),x=n(3),w=n(4);function E(){var e=Object(x.a)(["\n  background-image: linear-gradient(135deg, #7c4dff 0%, #18a9e6 50%, #01c9ea 100%);\n  background-repeat: no-repeat;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url('img/background-pattern.svg');\n    filter: opacity(30%);\n  }\n"]);return E=function(){return e},e}var O=w.default.div(E()),y=function(e){var t=e.children,n=e.className;return u.a.createElement(O,{className:n},t)};function k(){var e=Object(x.a)(["\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  h1 {\n    box-sizing: border-box;\n    padding: 0;\n    font-size: 28px;\n    color: rgb(40, 55, 82);\n    letter-spacing: 1.4px;\n    line-height: 40px;\n    text-align: center;\n    margin: 40px 0;\n    font-weight: bold;\n  }\n"]);return k=function(){return e},e}var j=w.default.section(k()),S=function(e){var t=e.children,n=e.className;return u.a.createElement(j,{className:n},u.a.createElement("div",{className:"wrapper"},t))},I=n(2),N=n.n(I);function C(){var e=Object(x.a)(["\n    @media (min-width: ","em) {\n      ","\n    }\n  "]);return C=function(){return e},e}var L={desktop:992,desktopSm:1024,tablet:768,phone:576},F=Object.keys(L).reduce((function(e,t){return e[t]=function(){return Object(w.css)(C(),L[t]/16,w.css.apply(void 0,arguments))},e}),{}),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Object(v.c)(u.a.createElement(nt,{content:e,title:t,type:"error",link:n}),{autoClose:!1,className:"solid-toaster toaster-error",type:"error"})},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Object(v.c)(u.a.createElement(nt,{content:e,title:t,type:"success",link:n}),{className:"solid-toaster toaster-success",type:"success"})},P=n(6),A=n(25),T=n.n(A),z=n(21),G=n.n(z),M=function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.a.fetch(t,{headers:{"Content-Type":"text/turtle"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(P.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.fetch(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.fetch(t,{method:"DELETE"});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,r={method:"PUT",headers:{"Content-Type":"text/turtle"},body:n},e.next=5,B(t,r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.abrupt("return",B(t,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:n}));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,e.next=4,M(t);case 4:return r=e.sent,e.abrupt("return",404===r.status?W(t,n):null);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(P.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:if(404!==e.sent.status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,G.a[t];case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(P.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.fetch(t);case 3:return n=e.sent,e.abrupt("return",403===n.status||200===n.status);case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,G.a[t]["ldp:inbox"];case 8:if(!(n=e.sent)){e.next=15;break}return e.next=12,n.value;case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=!1;case 16:return r=e.t0,e.abrupt("return",r);case 20:throw e.prev=20,e.t1=e.catch(0),e.t1;case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(P.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a[t].inbox;case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.value);case 6:return e.abrupt("return","");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),K=n(38),Y=n(116),$=n(339),Q=function(){var e=Object(P.a)(N.a.mark((function e(t,n,r,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=3;break}return e.abrupt("return",r(n,a));case 3:throw new Error("Error: The opponent does not have an available inbox");case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,a,i,o,c,u,s,l,d,p;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],a=!0,i=!1,e.prev=4,c=Object($.a)(t);case 6:return e.next=8,c.next();case 8:return u=e.sent,a=u.done,e.next=12,u.value;case 12:if(s=e.sent,a){e.next=23;break}return d=(l=s).path,e.next=18,r.discoverInbox(d);case 18:(p=e.sent)&&(n=[].concat(Object(Y.a)(n),[Object(K.a)({},l,{path:p})]));case 20:a=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(4),i=!0,o=e.t0;case 29:if(e.prev=29,e.prev=30,a||null==c.return){e.next=34;break}return e.next=34,c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw o;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",n);case 42:throw e.prev=42,e.t1=e.catch(0),new Error(e.t1);case 45:case"end":return e.stop()}}),e,null,[[0,42],[4,25,29,39],[30,,34,38]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(e,t,n){return e.find((function(e){return e.name===t}))||e.find((function(e){return e.name===n}))},te=n(17),ne=n(88),re=n.n(ne),ae=n(62),ie=new re.a(T.a),oe=function(e,t){if(!e)return!1;var n=new URL("object"===typeof e?e.webId:e).origin;return"".concat(n,"/").concat(t)},ce=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a[t].storage;case 2:if(n=e.sent,(r=n&&n.value.trim().length>0?n.value:"")&&!r.endsWith("/")&&(r="".concat(r,"/")),r&&0!==r.trim().length){e.next=9;break}return a=oe(t,"viade/"),console.log("viade/"),e.abrupt("return",a);case 9:return console.log("".concat(r)),console.log("".concat("viade/")),console.log(t),console.log("".concat(r).concat("viade/")),e.abrupt("return","".concat(r).concat("viade/"));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.checkSpecificAppPermission(t,te.AccessControlList.MODES.WRITE);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,i.getAppStorage(t);case 8:return n=e.sent,r="".concat(n,"settings.ttl"),a="".concat(n,"groups/"),c="".concat(n,"shared/"),u="".concat(n,"inbox/"),e.next=15,q(u);case 15:if(e.sent){e.next=23;break}return e.next=19,ie.createFolder(u,{createPath:!0});case 19:return e.next=21,q(r);case 21:e.sent||W(r).then((function(e){o.checkOrSetInboxAppendPermissions(r,t).then((function(){o.checkOrSetSettingsReadPermissions(r,t)})),G.a[r].inbox.set(Object(ae.namedNode)(u))}));case 23:return e.next=25,q(a);case 25:if(e.sent){e.next=29;break}return e.next=29,ie.createFolder(a,{createPath:!0});case 29:return e.next=31,q(c);case 31:if(e.sent){e.next=35;break}return e.next=35,ie.createFolder(c,{createPath:!0});case 35:return e.next=37,q(r);case 37:if(e.sent){e.next=41;break}return e.next=41,W(r).then(Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.checkOrSetInboxAppendPermissions(r,t).then((function(){o.checkOrSetSettingsReadPermissions(r,t)}));case 2:return e.next=4,G.a[r].inbox.set(Object(ae.namedNode)(u));case 4:case"end":return e.stop()}}),e)}))));case 41:return e.next=43,o.checkSpecificAppPermission(t,te.AccessControlList.MODES.CONTROL);case 43:if(!e.sent){e.next=47;break}return e.next=47,o.checkOrSetSettingsReadPermissions(r,t);case 47:return e.abrupt("return",!0);case 50:return e.prev=50,e.t0=e.catch(0),D(e.t0.message,"Error"),e.abrupt("return",!1);case 54:case"end":return e.stop()}}),e,null,[[0,50]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e,t){return t.every((function(t){return e.includes(t)}))},de=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.AppPermission.checkPermissions(t);case 2:return r=e.sent,e.abrupt("return",r.permissions.includes(n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,o,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.AppPermission.checkPermissions(t);case 2:r=e.sent,a=te.AccessControlList.MODES,i=a.APPEND,o=a.READ,c=a.WRITE,u=a.CONTROL,null!==r&&null!==r.permissions&&le(r.permissions,[i,o,c,u])||D(n.message,n.title,{label:n.label,href:n.href});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,o,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new te.AccessControlList(n,t),e.next=3,r.getPermissions();case 3:if(a=e.sent,i=a.filter((function(e){return null===e.agents})),!(i.filter((function(e){return e.modes.includes(te.AccessControlList.MODES.APPEND)})).length<=0)){e.next=17;break}return e.prev=7,o=[{agents:null,modes:[te.AccessControlList.MODES.APPEND]}],c=new te.AccessControlList(n,t),e.next=12,c.createACL(o);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(7),e.t0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,o,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new te.AccessControlList(n,t),e.next=3,r.getPermissions();case 3:if(a=e.sent,i=a.filter((function(e){return null===e.agents})),!(i.filter((function(e){return e.modes.includes(te.AccessControlList.MODES.READ)})).length<=0)){e.next=17;break}return e.prev=7,o=[{agents:null,modes:[te.AccessControlList.MODES.READ]}],c=new te.AccessControlList(n,t),e.next=12,c.createACL(o);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(7),e.t0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(P.a)(N.a.mark((function e(t,n,r){var a,i,o,c,u,s,l,d,p,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new te.AccessControlList(n,t),e.next=3,a.getPermissions();case 3:if(i=e.sent,o=i.filter((function(e){return e.agents===r})),c=o.filter((function(e){return e.modes.includes(te.AccessControlList.MODES.READ)})),u=i.filter((function(e){return e.modes.includes(te.AccessControlList.MODES.READ)})),s=new te.AccessControlList(n,t),!(c.length<=0)){e.next=32;break}l=0;case 10:if(!(l<u.length)){e.next=32;break}if(1!==u[l].modes.length){e.next=29;break}if(null!==u[l].agents){e.next=24;break}return e.prev=13,d=[{agents:[r],modes:[te.AccessControlList.MODES.READ]}],e.next=17,s.createACL(d);case 17:e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(13),e.t0;case 22:e.next=29;break;case 24:return(p=u[l].agents).push(r),m=[{agents:p,modes:[te.AccessControlList.MODES.READ]}],e.next=29,s.createACL(m);case 29:l++,e.next=10;break;case 32:return e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,n,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(P.a)(N.a.mark((function e(t,n,r){var a,i,o,c,u,s,l,d,p,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new te.AccessControlList(n,t),e.next=3,a.getPermissions();case 3:if(i=e.sent,o=i.filter((function(e){return e.agents===r})),c=o.filter((function(e){return e.modes.includes(te.AccessControlList.MODES.READ)})),u=i.filter((function(e){return e.modes.includes(te.AccessControlList.MODES.READ)})),s=new te.AccessControlList(n,t),!(c.length<=0)){e.next=32;break}l=0;case 10:if(!(l<u.length)){e.next=32;break}if(2!==u[l].modes.length&&1!==u[l].modes.length){e.next=29;break}if(null!==u[l].agents){e.next=24;break}return e.prev=13,d=[{agents:[r],modes:[te.AccessControlList.MODES.READ,te.AccessControlList.MODES.WRITE]}],e.next=17,s.createACL(d);case 17:e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(13),e.t0;case 22:e.next=29;break;case 24:return(p=u[l].agents).push(r),m=[{agents:p,modes:[te.AccessControlList.MODES.READ,te.AccessControlList.MODES.WRITE]}],e.next=29,s.createACL(m);case 29:l++,e.next=10;break;case 32:return e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,n,r){return e.apply(this,arguments)}}();function ge(){var e=Object(x.a)(["\n    min-width: 420px;\n  "]);return ge=function(){return e},e}function ve(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  border-radius: 4px;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  min-width: 310px;\n  min-height: 403px;\n  position: relative;\n  margin: auto;\n  padding: 40px;\n  text-align: center;\n\n  & > h1,\n  & > h2 {\n    padding: 0;\n    margin: 0;\n  }\n\n  @media screen and (max-width: 992px) {\n    width: auto;\n  }\n  ","\n"]);return ve=function(){return e},e}var xe=w.default.div(ve(),F.tablet(ge())),we=function(e){var t=e.children,n=e.className;return u.a.createElement(xe,{className:n},t)},Ee=n(9),Oe=n(10),ye=n(14),ke=n(15),je=n(16),Se=n(31),Ie=n(340),Ne=n.n(Ie);function Ce(){var e=Object(x.a)(["\n  border-left: none;\n  border-top: 1px solid rgba(8, 53, 117, 0.1);\n  width: 100%;\n  background: #fff;\n  padding: 0;\n  text-align: left;\n  button {\n    background: #fff;\n    line-height: 2;\n    padding: 1rem;\n    text-align: left;\n    cursor: pointer;\n    width: 100%;\n    border: none;\n    border-radius: 0px;\n    &:hover {\n      background: linear-gradient(\n        to right,\n        rgba(124, 77, 255, 0.2) 0%,\n        rgba(24, 169, 230, 0.2) 50%,\n        rgba(1, 201, 234, 0.2) 100%\n      );\n      transition: all 0.5s ease-in-out;\n      color: #083575;\n    }\n  }\n  .flag-icon {\n    margin-right: 10px;\n  }\n"]);return Ce=function(){return e},e}function Le(){var e=Object(x.a)(["\n  position: absolute;\n  top: 100%;\n  right: 0;\n  z-index: 2;\n  ul {\n    display: flex;\n    position: relative;\n    min-width: 200px;\n    flex-direction: column;\n    right: 0;\n    height: auto;\n    background: #fff;\n    transition: all 0.25s ease-in-out;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  }\n  .profile-list & {\n    position: relative;\n    top: 0;\n  }\n"]);return Le=function(){return e},e}function Fe(){var e=Object(x.a)(["height: 100%;"]);return Fe=function(){return e},e}function De(){var e=Object(x.a)(["\n  position: relative;\n  border: none;\n  background: none;\n  width: 100%;\n  padding: 0 16px;\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n  }\n  ","\n"]);return De=function(){return e},e}function Re(){var e=Object(x.a)(["display: none; path { display: none }"]);return Re=function(){return e},e}function Pe(){var e=Object(x.a)(["\n  position: relative;\n  height: auto;\n  width: 100%;\n  padding: 0 !important;\n\n  .icon {\n    margin-right: 5px;\n    font-size: 1rem;\n    color: #7c4dff;\n    ","\n  }\n"]);return Pe=function(){return e},e}var Ae=w.default.div(Pe(),F.desktop(Re())),Te=w.default.button(De(),F.desktop(Fe())),ze=w.default.div(Le()),Ge=w.default.li(Ce()),Me=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).toggleOpen=function(){n.props.open||n.setState((function(e){return{open:!e.open}}))},n.renderIcon=function(e){return e.customIcon?u.a.createElement("div",{className:"flag-icon flag-icon-".concat(e.icon)}):u.a.createElement(Se.a,{icon:e.icon,className:"checked icon"})},n.state={open:!1},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"handleClickOutside",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.children,a=t.className,i=t.hover,o=t.open,c=this.state.open;return u.a.createElement(Ae,{className:a,onClick:this.toggleOpen,onMouseEnter:i?this.toggleOpen:null,onMouseLeave:i?this.toggleOpen:null},u.a.createElement(Te,{onClick:this.toggleOpen,"data-testid":"dropdownMain"},r),(c||o)&&u.a.createElement(ze,{className:"dropdownItem"},u.a.createElement("ul",{"data-testid":"list"},n.map((function(t,n){return u.a.createElement(Ge,{key:n,className:"item"},u.a.createElement("button",{onClick:t.onClick,type:"button"},t.icon&&e.renderIcon(t),u.a.createElement("span",null,t.label)))})))))}}]),t}(c.Component);Me.defaultProps={hover:!1};var Be=Ne()(Me);function _e(){var e=Object(x.a)(["\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n  background: #1ca9e5;\n  color: #ffffff;\n  font-size: 9px;\n  font-family: Raleway;\n  font-style: normal;\n  font-weight: bold;\n  line-height: normal;\n"]);return _e=function(){return e},e}var We=w.default.div(_e()),Ue=function(e){var t=e.badge;return u.a.createElement(We,{className:"badgeWrapper"},t)};function Ve(){var e=Object(x.a)(["\n  background-color: #7c4dff;\n  animation: "," 1.3s infinite ease-in-out;\n  animation-delay: ","s;\n"]);return Ve=function(){return e},e}function Je(){var e=Object(x.a)(["\n  width: 80px;\n  height: 80px;\n  margin: 100px auto;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n"]);return Je=function(){return e},e}function qe(){var e=Object(x.a)(["\n  position: ",";\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.6);\n"]);return qe=function(){return e},e}function Xe(){var e=Object(x.a)(["\n\t0%,\n\t70%,\n\t100% {\n\t\ttransform: scale3D(1, 1, 1);\n\t}\n\n\t35% {\n\t\ttransform: scale3D(0, 0, 1);\n\t}\n"]);return Xe=function(){return e},e}var He=Object(w.keyframes)(Xe()),Ke=w.default.div(qe(),(function(e){return e.absolute?"absolute":"fixed"})),Ye=w.default.div(Je()),$e=w.default.span(Ve(),He,(function(e){return e.delay||0})),Qe=function(e){function t(){var e,n;Object(Ee.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(ye.a)(this,(e=Object(ke.a)(t)).call.apply(e,[this].concat(a)))).state={show:!1},n.show=function(){return n.setState({show:!0})},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.delay;this.delayTimer=setTimeout(this.show,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimer)}},{key:"render",value:function(){var e=this.state.show,t=this.props.absolute;return e&&u.a.createElement(Ke,{absolute:t},u.a.createElement(Ye,null,[{id:"0",value:.2},{id:"1",value:.3},{id:"2",value:.4},{id:"3",value:.1},{id:"4",value:.2},{id:"5",value:.3},{id:"6",value:0},{id:"7",value:.1},{id:"8",value:.2}].map((function(e){var t=e.id,n=e.value;return u.a.createElement($e,{key:t,delay:n})}))))}}]),t}(c.Component);Qe.defaultProps={delay:300,absolute:!1};var Ze=Qe;function et(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  flex: 1 1 auto;\n\n  & > span {\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n\n  & > p {\n    margin: 0;\n    padding: 2px 0;\n    color: inherit;\n  }\n\n  a {\n    color: white;\n    display: block;\n    margin: 5px 0;\n  }\n"]);return et=function(){return e},e}var tt=w.default.div(et()),nt=function(e){var t=e.title,n=e.content,r=e.link;return u.a.createElement(tt,null,u.a.createElement("span",null,t),u.a.createElement("p",null,n),r&&u.a.createElement("a",{href:r.href,target:"_blank",rel:"noopener noreferrer"},r.label))},rt=n(58),at={en:{id:"en",icon:"us"},es:{id:"es",icon:"es"},"en-US":{id:"en-US",icon:"us"}},it=function(e){function t(){var e;return Object(Ee.a)(this,t),(e=Object(ye.a)(this,Object(ke.a)(t).call(this))).getLanguage=function(){return localStorage.getItem("i18nextLng")||"en"},e.onLanguageSelect=function(t){var n=e.props.i18n;v.c.dismiss(),n.changeLanguage(t),e.setState({language:e.getLanguage()})},e.state={language:e.getLanguage()},e}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.language,r=[{label:t("navBar.languages.en"),onClick:function(){return e.onLanguageSelect("en")},icon:"us",customIcon:!0},{label:t("navBar.languages.es"),onClick:function(){return e.onLanguageSelect("es")},icon:"es",customIcon:!0}];return u.a.createElement(Be,{actions:r,hover:!0},u.a.createElement("div",{className:"flag-icon flag-icon-".concat(n&&at[n]?at[n].icon:"us")}))}}]),t}(c.Component),ot=n(23),ct=n(232),ut=n.n(ct);function st(){var e=Object(x.a)(["\n  background: rgb(239, 89, 80);\n  margin-right: 1em;\n"]);return st=function(){return e},e}function lt(){var e=Object(x.a)(["\n  background: rgb(44, 105, 164);\n  margin-left: 1em;\n"]);return lt=function(){return e},e}function dt(){var e=Object(x.a)(["\n  flex: 1 0 auto;\n  color: #fff;\n  text-transform: uppercase;\n  border: none;\n  font-weight: 700;\n  letter-spacing: 1px;\n  font-size: 0.7rem;\n  padding: 0.7em 0;\n"]);return dt=function(){return e},e}function pt(){var e=Object(x.a)(["\n  padding: 2em 0;\n  display: flex;\n"]);return pt=function(){return e},e}function mt(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > div#modal-actions {\n    align-self: flex-end;\n    padding: 16px 0 0 0;\n    & button {\n      margin-left: 8px;\n    }\n  }\n"]);return mt=function(){return e},e}var ft=w.default.div(mt()),ht=w.default.div(pt()),bt=w.default.button(dt()),gt=Object(w.default)(bt)(lt()),vt=Object(w.default)(bt)(st());ut.a.setAppElement("#root");var xt=function(e){var t=e.onAccept,n=e.onDecline,r=e.options,a=e.parentSelector,i=Object(c.useState)(!1),o=Object(ot.a)(i,2),s=o[0],l=o[1],d=r.message,p=r.messageComponent,m=r.acceptText,f=r.declineText,h=function(){var e=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:l(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:l(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){l(!0)}),[]),u.a.createElement(ut.a,{isOpen:s,ariaHideApp:!1,parentSelector:function(){return document.querySelector(a)},overlayClassName:"modal-overlay",className:"modal-content"},u.a.createElement(ft,null,u.a.createElement("div",null,p?u.a.createElement(p,null):d),u.a.createElement(ht,null,u.a.createElement(vt,{type:"button",onClick:b,"data-testid":"declineButton"},f||"Decline"),u.a.createElement(gt,{type:"button",onClick:h,"data-testid":"acceptButton"},m||"Accept"))))};xt.defaultProps={parentSelector:"#root"};var wt=n(92),Et=n(357),Ot=n(358),yt=n(367),kt=n(734),jt=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={hasError:!1,error:null,info:null},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error,r=e.info,a=this.props,i=a.component,o=a.children;return t?i(n,r):o}}]),t}(c.Component);function St(){var e=Object(x.a)(["order: 2;"]);return St=function(){return e},e}function It(){var e=Object(x.a)(["\n  align-self: center;\n  order: 1;\n\n  ","\n"]);return It=function(){return e},e}function Nt(){var e=Object(x.a)(["order: 1;"]);return Nt=function(){return e},e}function Ct(){var e=Object(x.a)(["\n  align-self: center;\n  order: 2;\n\n  img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto;\n  }\n  ","\n"]);return Ct=function(){return e},e}function Lt(){var e=Object(x.a)(["\n  font-weight: 100;\n  line-height: 1.8rem;\n\n  &.subheadline {\n    font-size: 1.1rem;\n    &:after {\n      display: block;\n      content: '';\n      height: 1px;\n      width: 50%;\n      margin: 20px 0 30px;\n      background-color: #666666;\n    }\n  }\n"]);return Lt=function(){return e},e}function Ft(){var e=Object(x.a)(["font-size: 2.8rem;"]);return Ft=function(){return e},e}function Dt(){var e=Object(x.a)(["\n  color: #5567f9;\n  text-transform: uppercase;\n  margin: 0;\n  ","\n"]);return Dt=function(){return e},e}function Rt(){var e=Object(x.a)(["\n  color: #9c79d5;\n  margin: 0;\n"]);return Rt=function(){return e},e}function Pt(){var e=Object(x.a)(["margin: 20px auto;"]);return Pt=function(){return e},e}function At(){var e=Object(x.a)(["grid-template-columns: repeat(2, 1fr);"]);return At=function(){return e},e}function Tt(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(1, minmax(200px, 1fr));\n  grid-gap: 40px;\n  max-width: 1024px;\n  margin: 20px;\n\n  ","\n  ","\n"]);return Tt=function(){return e},e}var zt=w.default.section(Tt(),F.tablet(At()),F.desktop(Pt())),Gt=w.default.h1(Rt()),Mt=w.default.h2(Dt(),F.tablet(Ft())),Bt=w.default.p(Lt()),_t=w.default.div(Ct(),F.tablet(Nt())),Wt=w.default.div(It(),F.tablet(St())),Ut=function(e){var t=e.info;return u.a.createElement(zt,null,u.a.createElement(_t,null,u.a.createElement("img",{src:"img/error-ufo.svg",alt:"Error"})),u.a.createElement(Wt,null,u.a.createElement(Gt,{"data-testid":"error-title"},"Error:"),u.a.createElement(Mt,{"data-testid":"error-info"},"Something Went Wrong"),u.a.createElement(Bt,{className:"subheadline"},"You may refresh the page, or try again at a later time."),u.a.createElement(Bt,null,t.componentStack)))},Vt=n(233),Jt=u.a.memo((function(e){var t=e.toolbar,n=e.open,r=e.customClass;return u.a.createElement("nav",{className:"nav nav__toolbar"},u.a.createElement("ul",null,t&&t.map((function(e,t){var a=e.component,i=e.props;return u.a.createElement("li",{key:t,"data-testid":"item"},u.a.createElement(a,Object.assign({},i,{open:n,customClass:r})))}))))}),(function(e,t){var n=e&&e.toolbar.length>1&&e.toolbar[1].component().props.inbox,r=t&&t.toolbar.length>1&&t.toolbar[1].component().props.inbox;return(!n||n.length===r||!r.length)&&e.open===t.open})),qt=n(732),Xt=function(e){var t=e.navigation;return u.a.createElement("nav",{role:"navigation",className:"nav nav__primary"},u.a.createElement("ul",null,t&&t.map((function(e){return u.a.createElement("li",{key:e.id,"data-testid":"item"},u.a.createElement(qt.a,{to:e.to,activeClassName:"active"},u.a.createElement("span",{className:"icon"},u.a.createElement("img",{src:e.icon,alt:e.id,className:"nav-icon",width:"24px",height:"20px",style:{width:"24px"}})),u.a.createElement("span",{className:"label"},e.label)))}))))},Ht=function(e){var t=e.toggleMobileMenu;return u.a.createElement("div",{className:"mobile-navigation__toggle"},u.a.createElement("button",{onClick:t,type:"button"},u.a.createElement("span",{className:"icon"},u.a.createElement("img",{src:"img/bars-nav.svg",alt:"Icon Menu"}))))};function Kt(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 10px;\n  margin: 15.5px 0;\n\n  div:first-child {\n    grid-column: 1 / 3;\n  }\n\n  button {\n    margin: 0;\n  }\n\n  .close-panel__toggle {\n    text-align: right;\n    padding-right: 20px;\n  }\n"]);return Kt=function(){return e},e}var Yt=w.default.div(Kt()),$t=Object(p.d)()((function(e){var t=e.children,n=e.toggleMobileMenu,r=e.isOpenMobile,a=e.t,i=e.i18n,o=r?"active slideLeft":"hidden";return u.a.createElement("section",{className:"mobile-navigation-panel ".concat(o)},u.a.createElement("div",{className:"mobile-navigation-panel__wrap"},u.a.createElement(Yt,null,u.a.createElement(it,{t:a,i18n:i}),u.a.createElement("div",{className:"close-panel__toggle"},u.a.createElement("button",{type:"button",onClick:n},u.a.createElement(Se.a,{className:"icon",icon:"times"})))),t))})),Qt=function(e){var t=e.navigation,n=e.toolbar,r=e.sticky,a=e.t,i=Object(c.useState)(!1),o=Object(ot.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)([]),p=Object(ot.a)(d,2),m=p[0],f=p[1],h=u.a.createRef(),b=function(){if(h){var e=h.clientHeight,t=document.getElementsByClassName("contentApp");t.length>0&&(t[0].style["padding-top"]="".concat(e,"px"))}};Object(c.useEffect)((function(){r&&(b(),window.addEventListener("resize",(function(){b(),window.innerWidth>=1024&&s&&l(!1)}))),function(){var e=n?n.filter((function(e){return"language"!==e.id})):[];f(e)}()}),[e,s]);var g=function(){l(!s)};return u.a.createElement("header",{role:"navigation",className:"header header__desktop fixed",ref:h},u.a.createElement("section",{className:"header-wrap"},u.a.createElement("div",{className:"logo-block"},u.a.createElement(Vt.a,{to:"/welcome"},u.a.createElement("img",{src:"img/LogoViadeMini.svg",alt:"Viade"}))),s?u.a.createElement($t,{navigation:t,toolbar:n,isOpenMobile:s,toggleMobileMenu:g,t:a},u.a.createElement(Xt,{navigation:t}),u.a.createElement(Jt,{toolbar:m,open:!0,customClass:"profile-list"})):u.a.createElement(c.Fragment,null,t&&u.a.createElement(Xt,{navigation:t}),n&&u.a.createElement(Jt,{toolbar:n})),u.a.createElement(Ht,{toggleMobileMenu:g})))};Qt.defaultProps={sticky:!0};var Zt=Qt,en=[{id:"seeRoutes",icon:"img/icon/seeRoutes.svg",label:"navBar.seeRoutes",to:"/seeRoutes"},{id:"createRoute",icon:"img/icon/createRoute.svg",label:"navBar.createRoute",to:"/createRoute"},{id:"importRoute",icon:"img/icon/importRoute.svg",label:"navBar.importRoute",to:"/importRoute"},{id:"manageFriends",icon:"img/icon/manageFriends.svg",label:"navBar.manageFriends",to:"/manageFriends"}],tn=[{label:"navBar.logOut",onClick:"logOut",icon:"lock"}];function nn(){var e=Object(x.a)(["\n  display: inline-block;\n  margin-left: 10px;\n"]);return nn=function(){return e},e}function rn(){var e=Object(x.a)(["\n  background: #cccccc;\n  display: block;\n"]);return rn=function(){return e},e}function an(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return an=function(){return e},e}function on(){var e=Object(x.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  visibility: ",";\n  display: ",";\n"]);return on=function(){return e},e}var cn,un=w.default.div(on(),(function(e){return e.show?"visible":"hidden"}),(function(e){return e.show?"block":"none"})),sn=w.default.img(an()),ln=Object(w.default)(un)(rn()),dn=(w.default.span(nn()),function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={imageLoaded:!1},n.profileRedirect=function(){return n.props.history.push("/profile")},n.formModelRenderRedirect=function(){return n.props.history.push("/formModel/renderer")},n.formModelConvertRedirect=function(){return n.props.history.push("/formModel/converter")},n.onImageLoaded=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.setState({imageLoaded:!0}));case 1:case"end":return e.stop()}}),e)}))),n.logOut=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.logout();case 3:localStorage.removeItem("solid-auth-client"),window.location="/viade_en2a/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getProfileData=Object(P.a)(N.a.mark((function e(){var t,r,a,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=G.a.user,e.next=4,t.vcard_hasPhoto;case 4:r=e.sent,a=n.state.image,i=r?r.value:a,n.setState({image:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),D(e.t0.message,"Error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.state={image:"img/icon/empty-profile.svg"},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;if(t&&t!==e.webId&&this.getProfileData(),this.context){var n=this.context.timestamp;n!==cn&&(this.getProfileData(),cn=n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.open,a=t.customClass,i=this.state,o=i.imageLoaded,c=i.image,s=tn.map((function(t){return Object(K.a)({},t,{label:n(t.label),onClick:e[t.onClick]})}));return c?u.a.createElement(Be,{actions:s,className:"nav-bar--profile ".concat(a),open:r,hover:!0},u.a.createElement(un,{show:o},u.a.createElement(sn,{show:o,src:c,alt:"profile",onLoad:this.onImageLoaded})),!o&&u.a.createElement(ln,{show:!0})):u.a.createElement("div",null)}}]),t}(c.Component));dn.contextType=te.UpdateContext;var pn=dn,mn=u.a.memo((function(e){var t=e.webId;return t?u.a.createElement(te.LiveUpdate,{subscribe:t.split("#")[0]},u.a.createElement(pn,e)):null})),fn=u.a.memo((function(e){var t=Object(c.useState)([]),n=Object(ot.a)(t,2),o=n[0],s=n[1],l=Object(p.c)(),d=l.t,m=l.i18n,f=en.map((function(e){return Object(K.a)({},e,{label:d(e.label)})})),h=e.webId,b=Object(c.useCallback)(Object(P.a)(N.a.mark((function e(){var t,n,o,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,r.discoverInbox(h);case 4:return n=e.sent,o="",e.next=8,i.getAppStorage(h);case 8:return o=e.sent,c="".concat(o,"settings.ttl"),e.next=12,a.findUserInboxes([{path:c,inboxName:"Viade"}]);case 12:t=e.sent,n&&(t=[].concat(Object(Y.a)(t),[{path:n,inboxName:d("navBar.notifications.global"),shape:"default"}])),0===t.length&&D(d("noInboxUser.message"),"Error",{label:d("noInboxUser.link.label"),href:d("noInboxUser.link.href")}),s(t),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),D(e.t0.message,d("navBar.notifications.fetchingError"));case 21:case"end":return e.stop()}}),e,null,[[0,18]])}))),[h,o]);Object(c.useEffect)((function(){h&&b()}),[h]);var g=e.history;return u.a.createElement(Zt,{navigation:f,sticky:!0,toolbar:[{component:function(){return u.a.createElement(it,{t:d,i18n:m})},id:"language"},{component:function(){return u.a.createElement(Pr,{webId:h,inbox:o})},id:"notifications"},{component:function(e){return u.a.createElement(mn,Object(K.a)({t:d,i18n:m,webId:h,history:g},e))},id:"profile"}]})})),hn=u.a.memo((function(e){var t=e.location,n=e.webId,r=e.history;return u.a.createElement(fn,{location:t,webId:n,history:r})}));function bn(){var e=Object(x.a)(["\n  color: white;\n"]);return bn=function(){return e},e}function gn(){var e=Object(x.a)(["\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  position: absolute;\n  padding: 20px;\n  top: 0;\n  left: 0;\n  border: 3px solid white;\n  color: white;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n"]);return gn=function(){return e},e}function vn(){var e=Object(x.a)(["\n  border: none;\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  display: block;\n  transition: all 0.3s ease-in;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  padding: 20px;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  &:hover {\n    border: 3px solid white;\n    color: white;\n  }\n"]);return vn=function(){return e},e}function xn(){var e=Object(x.a)(["\n  width: 128px;\n  position: relative;\n  padding-bottom: 100%;\n  background-size: cover;\n  overflow: hidden;\n  border-radius: 360px;\n  img {\n    border-radius: 360px;\n    border: 3px solid white;\n    box-sizing: border-box;\n    width: 100%;\n    height: 128px;\n  }\n  &:hover {\n    button {\n      opacity: 1;\n    }\n  }\n  .upload-icon {\n    display: block;\n    margin: 0 auto 10px auto;\n    font-size: 1.6rem;\n    opacity: 0.7;\n  }\n"]);return xn=function(){return e},e}var wn=w.default.div(xn()),En=w.default.button(vn()),On=w.default.div(gn()),yn=w.default.p(bn()),kn=function(e){var t=e.uploadedFiles,n=e.photo,r=e.overrideEventDefaults,a=e.onDragLeave,i=e.onDragEnter,o=e.onDrop,c=e.onClickFile,s=e.text,l=e.inProgress,d=e.uploadingText,p=t&&t.length>0?t[t.length-1].uri:n;return u.a.createElement(wn,{onDragStart:r,onDragOver:r,onDragEnd:r,onDrag:r,onDragLeave:a,onDragEnter:i,onDrop:o,style:p&&""!==p&&{backgroundImage:"url(".concat(p,")")}},u.a.createElement(En,{onClick:c,className:"button-upload"},u.a.createElement(Se.a,{icon:"upload",className:"upload-icon"}),s),l&&u.a.createElement(On,{className:"image-profile-loader"},u.a.createElement(Se.a,{icon:"spinner",spin:!0,size:"2x"}),u.a.createElement(yn,null,d)))};kn.defaultProps={text:"Upload New Photo",uploadingText:"Uploading"};var jn=kn,Sn=Object(p.d)()((function(e){var t=e.t,n=Object(wt.a)({prefix:"fab",iconName:"github"});return u.a.createElement("footer",{className:"solid-footer footer"},u.a.createElement("section",{className:"solid-footer__content"},u.a.createElement("div",{className:"solid-footer__content--copyright"},u.a.createElement("ul",null,u.a.createElement("li",null,t("footer.version"),""," ",u.a.createElement("span",{className:"build-value"},"1.1.0")))),u.a.createElement("div",{className:"solid-footer__content--links"},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("a",{href:"https://github.com/Arquisoft/viadeSpec",target:"_blank",rel:"noopener noreferrer"},u.a.createElement(Se.a,{className:"link-icon",icon:n}),"viadeSpec")),u.a.createElement("li",null,u.a.createElement("a",{href:"https://github.com/Arquisoft/viade_en2a",target:"_blank",rel:"noopener noreferrer"},u.a.createElement(Se.a,{className:"link-icon",icon:n}),"viadeEn2a"))))))}));function In(){var e=Object(x.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border-radius: 0;\n\n  &:active,\n  &:focus,\n  &:hover,\n  &.active {\n    background: linear-gradient(\n      to right,\n      rgba(124, 77, 255, 0.25) 0%,\n      rgba(83, 97, 253, 0.25) 51.88%,\n      rgba(55, 203, 239, 0.25) 100%\n    );\n    outline: none;\n  }\n\n  .icon {\n    width: 18px;\n    height: 18px;\n    position: relative;\n  }\n"]);return In=function(){return e},e}var Nn=w.default.button(In()),Cn=function(e){var t=e.unread,n=e.onClick,r=e.active;return u.a.createElement(Nn,{className:"bell-icon ".concat(r?"active":""),onClick:n,type:"button"},u.a.createElement("div",{className:"icon"},t>0&&u.a.createElement(Ue,{badge:t}),u.a.createElement("img",{src:"img/icon/notification.svg",alt:"notifications"})))},Ln=n(341),Fn=n.n(Ln);function Dn(){var e=Object(x.a)(["\n  max-width: 30px;\n  border-radius: 60px;\n  height: 30px;\n"]);return Dn=function(){return e},e}function Rn(){var e=Object(x.a)(["\n  position: absolute;\n  top: 3px;\n  right: 0;\n  border: 0;\n  padding: 0;\n  margin: 5px 7px;\n  color: #ffa600;\n"]);return Rn=function(){return e},e}function Pn(){var e=Object(x.a)(["\n  margin: 0;\n  padding: 0;\n  background: none;\n  outline: none;\n  border: none;\n  position: absolute;\n  right: 6px;\n  top: 54%;\n  transform: translateY(-50%);\n  &:active {\n    outline: none;\n  }\n"]);return Pn=function(){return e},e}function An(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n  & > .moment {\n    color: #89969f;\n    font-family: Raleway;\n    font-size: 11px;\n    font-weight: bold;\n    line-height: 14px;\n  }\n"]);return An=function(){return e},e}function Tn(){var e=Object(x.a)(["\n  color: #374c5d;\n  font-family: Raleway;\n  font-size: 13px;\n  line-height: 14px;\n  & strong {\n    font-weight: 700;\n  }\n"]);return Tn=function(){return e},e}function zn(){var e=Object(x.a)(["\n  padding: 0 14px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return zn=function(){return e},e}function Gn(){var e=Object(x.a)(["\n  border-bottom: 2px solid rgb(227, 231, 237);\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  padding: 12px;\n  align-items: center;\n  background: ",";\n  position: relative;\n  min-height: 60px;\n\n  & > img {\n    width: 40px;\n    height: 40px;\n  }\n\n  .delete {\n    display: none;\n  }\n  &:hover {\n    .delete {\n      display: block;\n    }\n  }\n"]);return Gn=function(){return e},e}var Mn=w.default.li(Gn(),(function(e){return e.read?"#FFF":"rgb(245, 249, 254)"})),Bn=w.default.div(zn()),_n=w.default.div(Tn()),Wn=w.default.div(An()),Un=w.default.button(Pn()),Vn=w.default.button(Rn()),Jn=w.default.img(Dn()),qn=function(e){var t=e.notification,n=e.markAsRead,r=e.children,a=e.deleteNotification,i=t.read,o=!!i&&JSON.parse(i),s=Object(c.useCallback)(Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target){e.next=4;break}return e.next=3,n(t.path,t.id);case 3:window.location=t.target;case 4:case"end":return e.stop()}}),e)}))),[t]),l=!o,d=t&&t.actor&&t.actor.image?t.actor.image:"img/icon/empty-profile.svg";return u.a.createElement(Mn,{read:o},u.a.createElement("a",{href:t.actor&&t.actor.webId},u.a.createElement(Jn,{src:d,alt:"Creator",onError:function(e){e.target.onerror=null,e.target.src="img/icon/empty-profile.svg"}})),u.a.createElement(Bn,null,u.a.createElement(_n,{onClick:s},u.a.createElement("strong",null,t.title),u.a.createElement("br",null),t.summary),u.a.createElement(Wn,null,u.a.createElement("span",{className:"moment"},Fn()(t.published).fromNow()),r)),u.a.createElement(Un,{type:"button",className:"delete",onClick:function(){return n(t.path,t.id,l?"true":"false")}},u.a.createElement(Se.a,{icon:o?"eye-slash":"eye"})),u.a.createElement(Vn,{type:"button",className:"delete",onClick:function(){return a(t.path)}},u.a.createElement(Se.a,{icon:"times-circle"})))};function Xn(){var e=Object(x.a)(["\n  display: inherit;\n  margin: 20px;\n  text-align: center;\n"]);return Xn=function(){return e},e}function Hn(){var e=Object(x.a)(["\n  overflow-y: auto;\n  max-height: 350px;\n  flex: 1 1 auto;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  margin: 0;\n  height: 100%;\n"]);return Hn=function(){return e},e}var Kn=w.default.ul(Hn()),Yn=w.default.span(Xn()),$n=function(e){var t=e.notifications,n=e.markAsRead,r=e.deleteNotification;return u.a.createElement(c.Fragment,null,t&&t.length>0?u.a.createElement(Kn,null,t.map((function(e){return u.a.createElement(qn,{key:e.id,notification:e,markAsRead:n,deleteNotification:r})}))):u.a.createElement(Yn,{className:"empty-list"},"No notifications to show"))};function Qn(){var e=Object(x.a)(["\n  display: inline-block;\n  margin: 0 3px;\n  button {\n    padding: 10px;\n    border-bottom: none;\n    border-radius: 0;\n\n    &.active {\n      border-color: #5361fd;\n      background: #5361fd;\n\n      &:hover {\n        color: white;\n      }\n    }\n\n    &:hover {\n      border-color: #5361fd;\n      color: #5361fd;\n    }\n  }\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(x.a)(["\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 auto;\n  border-bottom: 1px solid #cfdce6;\n"]);return Zn=function(){return e},e}var er=w.default.ul(Zn()),tr=w.default.li(Qn()),nr=function(e){var t=e.list,n=e.click,r=e.activeName,a=Object(c.useState)(null),i=Object(ot.a)(a,2),o=i[0],s=i[1],l=Object(c.useCallback)(function(){var e=Object(P.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(r=o===t?"":t),e.next=4,n(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,o]);return Object(c.useEffect)((function(){s(r)}),[]),u.a.createElement(er,null,t&&t.map((function(e){return u.a.createElement(tr,{key:e.path},u.a.createElement("button",{onClick:function(){return l(e.inboxName)},type:"button",className:o===e.inboxName?"active":""},e.inboxName))})))};function rr(){var e=Object(x.a)(["\n  padding: 16px;\n  margin: 0;\n  text-transform: uppercase;\n  color: #5361fd;\n  font-family: Raleway;\n  font-size: 14px;\n  letter-spacing: 1.2px;\n  line-height: 14px;\n  flex: 0 0 50px;\n  box-sizing: border-box;\n"]);return rr=function(){return e},e}function ar(){var e=Object(x.a)(["\n    right: 0;\n    min-width: 351px;\n  "]);return ar=function(){return e},e}function ir(){var e=Object(x.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  min-width: 340px;\n  min-height: 320px;\n  background: #ffffff;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  top: calc(100% + 2px);\n  right: -210px;\n  z-index: 99999;\n  border: solid 1px #cfdce6;\n\n  ","\n"]);return ir=function(){return e},e}var or=w.default.div(ir(),F.tablet(ar())),cr=w.default.h2(rr()),ur=function(e){var t=e.notifications,n=e.markAsRead,r=e.deleteNotification,a=e.filterNotification,i=e.tabs,o=e.isLoading;return u.a.createElement(or,null,u.a.createElement(cr,null,"Notifications"),o?u.a.createElement(Ze,{absolute:!0}):u.a.createElement(u.a.Fragment,null,u.a.createElement(nr,{list:i,click:a}),u.a.createElement($n,{notifications:t,markAsRead:n,deleteNotification:r})))},sr=n(733);function lr(){var e=Object(x.a)(["\n    position: relative;\n    width: 60px;\n    height: 100%;\n    left: inherit;\n    top: inherit;\n  "]);return lr=function(){return e},e}function dr(){var e=Object(x.a)(["\n  position: fixed;\n  z-index: 3;\n  top: 17px;\n  left: 47px;\n\n  & .notifications-enter {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  & .notifications-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 300ms, transform 300ms;\n  }\n  & .notifications-exit {\n    opacity: 1;\n  }\n  & .notifications-exit-active {\n    opacity: 0;\n    transform: scale(0.8);\n    transition: opacity 300ms, transform 300ms;\n  }\n  ","\n"]);return dr=function(){return e},e}var pr=w.default.div(dr(),F.desktopSm(lr())),mr=function(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])},fr=n(736),hr=n(430);function br(e,t,n){var r=function(){var e=new Date;return{text:"This is just a example !!",dateCreated:e=hr(e,"yyyy-mm-dd h:MM:ss TT")}}();r.text=e,function(e,t,n){jr.apply(this,arguments)}(r,t,n)}var gr=new re.a(T.a),vr=function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr.itemExists(t);case 2:if(!e.sent){e.next=6;break}return e.next=5,gr.readFile(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xr=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t).substring(0,n.length-16)+"/viade/routes",a=[],e.next=5,gr.itemExists(r);case 5:if(!e.sent){e.next=12;break}return e.next=8,gr.readFolder(r);case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.next=14,gr.createFolder(r);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wr=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t).substring(0,n.length-16)+"/viade/groups",a=[],e.next=5,gr.itemExists(r);case 5:if(!e.sent){e.next=12;break}return e.next=8,gr.readFolder(r);case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.next=14,gr.createFolder(r);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Er=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,o,c,u,s=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:"",e.next=3,T.a.currentSession();case 3:return a=e.sent,i=a.webId.substring(0,a.webId.length-16)+"/viade/routes",o=t.name.replace(/ /g,"_"),c="",c=r?r+".jsonld":o+"_"+Object(fr.a)()+".jsonld",u=i+"/"+c,e.next=11,yr(a.webId.substring(0,a.webId.length-16),c).then((function(e){t.comments=e}));case 11:return e.next=13,gr.itemExists(i);case 13:if(!e.sent){e.next=17;break}gr.createFile(u,JSON.stringify(t),"text/plain").then((function(e){n(!0)}),(function(e){n(!1)})),e.next=20;break;case 17:return e.next=19,gr.createFolder(i);case 19:gr.createFile(u,JSON.stringify(t),"text/plain").then((function(e){n(!0)}),(function(e){n(!1)}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Or=function(){var e=Object(P.a)(N.a.mark((function e(t,n,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gr.createFile(n,JSON.stringify(t),"text/plain").then((function(e){r(!0)}),(function(e){r(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function yr(e,t){return kr.apply(this,arguments)}function kr(){return(kr=Object(P.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=t+"/viade/comments")+"/comments_"+n,e.next=4,gr.itemExists(r);case 4:if(e.sent){e.next=7;break}return e.next=7,gr.createFolder(r);case 7:return e.next=9,gr.createFile(a,JSON.stringify({"@context":{"@version":1.1,comments:{"@container":"@list","@id":"viade:comments"},comment:{"@id":"viade:comment","@type":"@id"},dateCreated:{"@id":"viade:dateCreated","@type":"xsd:date"},text:{"@id":"viade:text","@type":"xsd:string"},author:{"@id":"schema:person","@type":"@id"},schema:"https://schema.org/",viade:"http://arquisoft.github.io/viadeSpec/",xsd:"http://www.w3.org/2001/XMLSchema#"},comments:[]}),"text/plain");case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(){return(jr=Object(P.a)(N.a.mark((function e(t,n,r){var a,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.currentSession();case 2:return a=e.sent,i=a.webId,o={},e.next=7,vr(n).then((function(e){o=JSON.parse(e)}));case 7:return o.comments.push({text:t.text,dateCreated:t.dateCreated,author:i}),e.next=10,gr.createFile(n,JSON.stringify(o),"text/plain").then((function(e){r(!0)}),(function(e){r(!1)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(){return(Sr=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,c,u,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.currentSession();case 2:return r=e.sent,a=r.webId.substring(0,r.webId.length-16)+"/viade/resources",i=t.name.split("."),c="."+i[i.length-1],u=Object(fr.a)()+c,s=a+"/"+u,e.next=10,gr.itemExists(a);case 10:if(!e.sent){e.next=14;break}gr.createFile(s,t,t.type).then((function(e){n(e.url)}),(function(e){n(null)})).then((function(e){o.checkOrSetInboxAppendPermissions(s,r.webId).then((function(){o.checkOrSetSettingsReadPermissions(s,r.webId)}))})),e.next=17;break;case 14:return e.next=16,gr.createFolder(a);case 16:gr.createFile(s,t,t.type).then((function(e){n(e.url)}),(function(e){n(null)}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(){return(Ir=Object(P.a)(N.a.mark((function e(t,n,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gr.createFile(n,JSON.stringify(t),"application/json").then((function(e){r(!0)}),(function(e){return r(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(P.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.currentSession();case 2:return n=e.sent,r=t.slice(8),a=r.split("/"),e.abrupt("return",n.webId.includes(a[0]));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lr,Fr=function(e,t){var n=t.actor.webId.substring(8,t.actor.webId.length-16),a=e.substring(0,e.length-16),i="".concat(a,"/viade/shared/").concat(n,".jsonld"),o=t.summary.split(" "),c=t.actor.webId.substring(0,t.actor.webId.length-16),u="".concat(c,"/viade/routes/").concat(o[o.length-1]);r.resourceExists(i).then((function(e){if(!1===e){Or({"@context":{"@version":1.1,routes:{"@container":"@list","@id":"viade:routes"},viade:"http://arquisoft.github.io/viadeSpec/"},routes:[{"@id":u}]},i,(function(e){}))}else{var t="";vr(i).then((function(e){t=JSON.parse(e);var n=!1;t.routes.forEach((function(e){e["@id"]===u&&(n=!0)})),!1===n&&(t.routes.push({"@id":u}),Or(t,i,(function(e){})))}))}}))},Dr=function(e,t,n){var r="";vr(e).then((function(a){r=JSON.parse(a),n.forEach((function(e){var n=!1;null==r.notifications?(r.notifications=[],r.notifications.push({"@id":e.id}),Fr(t,e)):(r.notifications.forEach((function(t){t["@id"]===e.id&&(n=!0)})),!1===n&&(r.notifications.push({"@id":e.id}),Fr(t,e)))})),Or(r,e,(function(e){}))}))},Rr=function(e){var t=e.webId,n=e.inbox,a=Object(c.useState)(!1),i=Object(ot.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(!1),d=Object(ot.a)(l,2),p=d[0],m=d[1],f=Object(c.useRef)(),h=Object(te.useNotification)(t),b=h.notification,g=h.markAsReadNotification,v=h.deleteNotification,x=h.fetchNotification,w=h.filterNotification,E=Object(te.useLiveUpdate)().timestamp,O=b.notifications,y=b.unread,k=b.notify,j=E&&E.toString();mr(f,(function(){return s(!1)}));var S=function(){var e=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,x(n);case 4:m(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t&&k&&S()}),[n,k]),Object(c.useEffect)((function(){j&&Lr!==j&&(S(),Lr=j)}),[E]),Object(c.useEffect)((function(){S(),function(e,t){var n=e.substring(0,e.length-16),a="".concat(n,"/viade/notification.json");r.resourceExists(a).then((function(n){!0===n&&Dr(a,e,t)}))}(t,O)}),[y]),u.a.createElement(pr,{ref:f},u.a.createElement(Cn,{unread:y||0,onClick:function(){return s(!o)},active:o}),u.a.createElement(sr.a,{in:o,timeout:300,classNames:"notifications",unmountOnExit:!0,mountOnEnter:!0},u.a.createElement(ur,{notifications:O,markAsRead:g,deleteNotification:v,tabs:n,filterNotification:w,isLoading:p})))},Pr=u.a.memo((function(e){var t=e.webId,n=e.inbox,r=n.map((function(e){return e.path}));return r?u.a.createElement(te.LiveUpdate,{subscribe:r},u.a.createElement(Rr,{webId:t,inbox:n})):null}));function Ar(){var e=Object(x.a)(["\n  margin-top: 20px;\n"]);return Ar=function(){return e},e}var Tr=w.default.span(Ar());Object(c.memo)((function(e){var t=e.inProgress,n=e.result,r=e.setResult,a=e.setSavingProcess,i=Object(c.useState)(null),o=Object(ot.a)(i,2),s=o[0],l=o[1];return Object(c.useEffect)((function(){return function(){clearTimeout(s)}}),[]),Object(c.useEffect)((function(){n&&(s&&clearTimeout(s),"success"===n.toLowerCase()&&l(setTimeout((function(){r(null),a(!1)}),2e3)))}),[n]),u.a.createElement(Tr,null,t&&u.a.createElement("div",null,u.a.createElement(Se.a,{icon:"spinner",spin:!0})),n&&!t&&u.a.createElement("div",null,"success"===n.toLowerCase()&&u.a.createElement(Se.a,{icon:"check-circle"}),"error"===n.toLowerCase()&&u.a.createElement(Se.a,{icon:"exclamation-triangle"})))}));function zr(){var e=Object(x.a)(["\n  .listButton {\n    height: 130px;\n  }\n\n  margin: 10px 20px;\n"]);return zr=function(){return e},e}function Gr(){var e=Object(x.a)(["\n  width: 100%;\n\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n\n"]);return Gr=function(){return e},e}var Mr=w.default.div(Gr()),Br=w.default.div(zr()),_r=n(342),Wr=n.n(_r),Ur=n(24),Vr=n(68),Jr=function(e){var t=e.elements,n=e.isInfiniteLoading,r=e.handleInfiniteLoad,a=e.elementInfiniteLoad;return u.a.createElement(Mr,{"data-testid":"infiniteList-container"},u.a.createElement(Wr.a,{elementHeight:200,useWindowAsScrollContainer:!0,infiniteLoadBeginEdgeOffset:200,onInfiniteLoad:r,loadingSpinnerDelegate:a,isInfiniteLoading:n},t.map((function(e){return u.a.createElement(Br,null,u.a.createElement(Ur.a,Object.assign({"data-testid":"route"+Vr.Base64.encode(e.props.url)},{href:"/viade_en2a/#/map/"+Vr.Base64.encode(e.props.url)},{variant:"outline-light",block:!0}),e))}))))};function qr(){var e=Object(x.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return qr=function(){return e},e}function Xr(){var e=Object(x.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return Xr=function(){return e},e}function Hr(){var e=Object(x.a)(["\n  height: 100%;\n  position: relative;\n"]);return Hr=function(){return e},e}var Kr=w.default.div(Hr()),Yr=w.default.div(Xr()),$r=Object(p.d)()(Object(te.withWebId)((function(e){var t=e.component,n=e.webId,r=Object(rt.a)(e,["component","webId"]),a=Object(p.c)().t,i=Object(w.default)(t)(qr());return n?u.a.createElement(kt.a,{to:"/welcome"}):u.a.createElement(yt.a,Object.assign({},r,{component:function(t){return u.a.createElement(Kr,null,u.a.createElement(Zt,Object.assign({},t,{toolbar:[{component:function(){return u.a.createElement(it,Object(K.a)({t:a},e))},id:"language"}]})),u.a.createElement(i,t),u.a.createElement(Yr,null,u.a.createElement(Sn,null)))}}))}))),Qr=n(737);function Zr(){var e=Object(x.a)(["\n  padding-top: 60px;\n  flex: 1 0 auto;\n  display: flex;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return Zr=function(){return e},e}function ea(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow-x: hidden;\n  min-height: 100vh;\n"]);return ea=function(){return e},e}var ta=w.default.div(ea()),na=w.default.div(Zr()),ra=Object(te.withAuthorization)((function(e){var t=e.routes,n=e.webId,r=e.location,a=(e.history,Object(rt.a)(e,["routes","webId","location","history"])),i=Object(p.c)().t,s={message:i("appPermission.message"),title:i("notifications.error"),label:i("appPermission.link.label"),href:i("appPermission.link.href")};return Object(c.useEffect)((function(){n&&o.checkPermissions(n,s)}),[n]),u.a.createElement(u.a.Fragment,null,u.a.createElement(ta,null,u.a.createElement(yt.a,Object.assign({},a,{component:function(e){var a=e.history;return u.a.createElement(na,{className:"contentApp"},u.a.createElement(hn,{location:r,webId:n,history:a}),u.a.createElement(Qr.a,null,t.map((function(e){var t=e.component;return u.a.createElement(yt.a,{key:e.id,path:e.path,render:function(e){return u.a.createElement(t,Object.assign({},e,{webId:n}))},webId:n,exact:!0})})),u.a.createElement(kt.a,{to:"/404"})))}})),u.a.createElement(Sn,null)))}));function aa(){var e=Object(x.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return aa=function(){return e},e}function ia(){var e=Object(x.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return ia=function(){return e},e}function oa(){var e=Object(x.a)(["\n  min-height: 100%;\n  position: relative;\n"]);return oa=function(){return e},e}var ca=w.default.div(oa()),ua=w.default.div(ia()),sa=function(e){var t=Object(te.useWebId)(),n=e.component,r=Object(rt.a)(e,["component"]),a=Object(p.c)(),i=a.t,o=a.i18n,c=Object(w.default)(n)(aa());return u.a.createElement(yt.a,Object.assign({},r,{component:function(e){var n=e.history,r=e.location,a=e.match;return u.a.createElement(ca,null,t?u.a.createElement(hn,{history:n,location:r,match:a,webId:t}):u.a.createElement(Zt,Object.assign({history:n,location:r,match:a},{toolbar:[{component:function(){return u.a.createElement(it,{t:i,i18n:o})},id:"language"},{component:function(){return u.a.createElement(Vt.a,{to:"/login"},"Login")},label:"authComponent",id:"authComponent"}]})),u.a.createElement(c,{history:n,location:r,match:a}),u.a.createElement(ua,null,u.a.createElement(Sn,null)))}}))},la=n(735);function da(){var e=Object(x.a)(["\n  color: #656e75;\n  font-family: Raleway;\n  font-size: 16px;\n  font-weight: 500;\n  letter-spacing: 1.2px;\n  line-height: 19px;\n  text-align: center;\n  position: relative;\n  margin: 30px 0;\n  display: inline-block;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &::before,\n  &::after {\n    width: 32%;\n    content: '';\n    background: #656e75;\n    height: 1px;\n    box-sizing: border-box;\n    top: 50%;\n  }\n\n  span {\n    padding: 0 5px;\n  }\n\n  &::before {\n    right: 0;\n  }\n\n  &::after {\n    left: 0;\n  }\n"]);return da=function(){return e},e}function pa(){var e=Object(x.a)(["\n  display: grid;\n  flex-direction: column;\n\n  .provider-login-component {\n    div[role='option'] {\n      text-align: left !important;\n      padding-left: 20px;\n    }\n  }\n"]);return pa=function(){return e},e}function ma(){var e=Object(x.a)([""]);return ma=function(){return e},e}function fa(){var e=Object(x.a)(["\n  h1 {\n    color: #ffffff;\n  }\n  margin-top: 60px;\n"]);return fa=function(){return e},e}var ha=Object(w.default)(y)(fa()),ba=Object(w.default)(we)(ma()),ga=w.default.div(pa()),va=w.default.span(da()),xa=function(){function e(){Object(Ee.a)(this,e)}return Object(Oe.a)(e,null,[{key:"getIdentityProviders",value:function(){return[{id:"inrupt",label:"Inrupt",image:"img/inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{id:"solid-community",label:"Solid Community",image:"img/Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}]}}]),e}(),wa=function(){var e=Object(p.c)().t;return u.a.createElement(ha,{"data-testid":"login-wrapper"},u.a.createElement(S,null,u.a.createElement("h1",{"data-testid":"title",id:"title"},e("login.title")),u.a.createElement(ba,{className:"login-panel"},u.a.createElement(ga,{className:"panel-body"},u.a.createElement(Vt.a,{className:"ids-link-filled ids-link-filled--primary",to:"/register"},e("login.register")),u.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},e("login.solidHelp")),u.a.createElement(va,{"data-testid":"login-title"},u.a.createElement("span",null,e("login.loginTitle"))),u.a.createElement(te.ProviderLogin,{selectPlaceholder:e("login.selectPlaceholder"),inputPlaholder:e("login.inputPlaholder"),formButtonText:e("login.formButtonText"),btnTxtWebId:e("login.btnTxtWebId"),btnTxtProvider:e("login.btnTxtProvider"),className:"provider-login-component",callbackUri:"".concat(window.location.origin,"/viade_en2a/#/welcome"),errorsText:{unknown:e("login.errors.unknown"),webIdNotValid:e("login.errors.webIdNotValid"),emptyProvider:e("login.errors.emptyProvider"),emptyWebId:e("login.errors.emptyWebId")},theme:{buttonLogin:"ids-link",inputLogin:"",linkButton:""},providers:xa.getIdentityProviders()})))))};function Ea(){var e=Object(x.a)(["\n  height: 32px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  button {\n    height: 32px;\n    width: 150px;\n    border-radius: 4px;\n    font-family: Raleway;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 0.89px;\n    line-height: 11px;\n    text-align: center;\n    text-transform: uppercase;\n    border: solid 2px #449df5;\n    box-sizing: border-box;\n  }\n\n  .btn-solid {\n    background-color: #449df5;\n    color: #ffffff;\n  }\n\n  .btn-outlined {\n    background-color: #ffffff;\n    color: #449df5;\n    filter: opacity(40%);\n  }\n"]);return Ea=function(){return e},e}function Oa(){var e=Object(x.a)(["\n  height: 100% !important;\n  animation: fadeIn 0.2s ease-in;\n\n  a {\n    display: block;\n    color: #449df5;\n    font-family: Raleway;\n    font-size: 12px;\n    font-weight: 500;\n    letter-spacing: 0.75px;\n    line-height: 14px;\n    text-align: center;\n    text-decoration: none;\n\n    &:hover {\n      font-weight: 700;\n    }\n  }\n\n  .a-with-spacing {\n    margin: 24px 0;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n"]);return Oa=function(){return e},e}function ya(){var e=Object(x.a)(["\n  position: relative;\n\n  h2 {\n    position: relative;\n    padding: 0;\n    color: #5361fd;\n    font-family: Raleway;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0.75px;\n    line-height: 24px;\n    text-align: center;\n    margin: 0;\n    animation: fadeIn 0.5s ease-in;\n  }\n\n  .progress-bar {\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background: #5361fd;\n    top: 30px;\n  }\n"]);return ya=function(){return e},e}function ka(){var e=Object(x.a)(["\n  justify-content: space-between;\n"]);return ka=function(){return e},e}function ja(){var e=Object(x.a)(["\n  h1 {\n    color: #ffffff;\n  }\n\n  //Todo: figure out why this is necessary\n  margin-top: 100px;\n"]);return ja=function(){return e},e}var Sa=w.default.section(ja()),Ia=Object(w.default)(we)(ka()),Na=w.default.div(ya()),Ca=w.default.div(Oa()),La=w.default.div(Ea());function Fa(){var e=Object(x.a)(["\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n\n  & input[type='radio'] {\n    display: none;\n\n    &:checked {\n      + "," {\n        border-color: #5361fd;\n        color: #5361fd;\n\n        .checked {\n          display: block;\n          color: green;\n        }\n      }\n    }\n  }\n"]);return Fa=function(){return e},e}function Da(){var e=Object(x.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border: solid 1.2px rgba(115, 127, 137, 1);\n  height: 40px;\n  margin-bottom: 20.5px;\n  box-sizing: border-box;\n  padding-left: 20px;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  transition: all 0.2s ease-in;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 8px;\n  border-radius: 4px;\n\n  .checked {\n    display: none;\n  }\n\n  &:hover {\n    border-color: #5361fd;\n    color: #5361fd;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .img-group {\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 32px;\n      padding-right: 1em;\n    }\n  }\n"]);return Da=function(){return e},e}var Ra=w.default.label(Da()),Pa=w.default.li(Fa(),Ra),Aa=function(e){var t=e.data,n=e.onSelect,r=e.radioName,a=e.id,i=e.checked;return u.a.createElement(Pa,{"data-testid":"provider-item"},u.a.createElement("input",{type:"radio",name:r,id:a,onChange:n,value:t.registerLink,checked:i}),u.a.createElement(Ra,{htmlFor:a,className:"provider-item"},u.a.createElement("div",{className:"img-group"},u.a.createElement("img",{src:t.image,alt:t.label}),u.a.createElement("span",{className:"label"},t.label)),u.a.createElement(Se.a,{icon:"check",className:"checked"})))};function Ta(){var e=Object(x.a)(["\n  text-align: center;\n  margin-top: 40px;\n\n  h1 {\n    color: #ffffff;\n  }\n\n  span {\n    color: #ffffff;\n    font-family: Raleway;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 20px;\n    text-align: center;\n    display: block;\n    padding: 1.5em 0;\n  }\n\n  .rocket {\n    width: 250px;\n    height: 250px;\n    text-align: center;\n    padding: 40px 0 40px 0;\n  }\n"]);return Ta=function(){return e},e}var za=Object(w.default)(y)(Ta()),Ga=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).redirect=Object(P.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.history,e.next=3,clearInterval(n.interval);case 3:t.push("/login");case 4:case"end":return e.stop()}}),e)}))),n.countDown=function(){0===n.state.timeLeft&&n.redirect(),n.setState((function(e){return{timeLeft:e.timeLeft-1}}))},n.state={timeLeft:15},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.countDown,1e3)}},{key:"componentWillUnmount",value:function(){var e=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,clearInterval(this.interval);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.timeLeft;return u.a.createElement(za,{className:"registration-success--page"},u.a.createElement(S,null,u.a.createElement("h1",null,"Success! Welcome to the decentralized web."),u.a.createElement("img",{src:"img/rocket.svg",alt:"rocket",className:"rocket"}),u.a.createElement("span",null,"We have emailed you more information about your new Solid Identity"),u.a.createElement("span",null,"We will redirect you to your POD in ",e," seconds...")))}}]),t}(c.Component),Ma=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).next=function(){var e=n.state,t=e.canContinue,r=e.register.provider,a=window.location,i=a.protocol,o=a.host;t&&(window.location="".concat(r,"?returnToUrl=").concat(i,"//").concat(o,"/register/success"))},n.selectProvider=function(e){var t=n.state.register;n.setState({register:Object(K.a)({},t,{provider:e.target.value}),canContinue:!0})},n.onSubmit=function(e){e.preventDefault();var t=n.state,r=t.canContinue,a=t.register.provider,i=window.location,o=i.protocol,c=i.host;r&&(window.location="".concat(a,"?returnToUrl=").concat(o,"//").concat(c,"/register/success"))},n.state={canContinue:!1,register:{provider:""}},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.canContinue,r=t.register.provider,a=this.props,i=a.providers,o=a.t;return u.a.createElement(y,null,u.a.createElement(S,null,u.a.createElement(Sa,{"data-testid":"register-wrapper"},u.a.createElement("h1",{"data-testid":"title"},o("register.title")),u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement(Ia,{className:"register-panel"},u.a.createElement(Na,{className:"panel-header","data-testid":"panel-header"},u.a.createElement("h2",null,o("register.step1Title")),u.a.createElement("div",{className:"progress-bar"})),u.a.createElement(Ca,{className:"panel-body"},u.a.createElement(c.Fragment,null,u.a.createElement("a",{href:"https://solid.inrupt.com/how-it-works",target:"_blank",rel:"noopener noreferrer"},o("register.whatIsAProvider")),u.a.createElement(Vt.a,{to:"/login",className:"a-with-spacing"},o("register.alreadySolid")),u.a.createElement("ul",null,i.map((function(t){return u.a.createElement(Aa,{data:t,key:t.id,onSelect:e.selectProvider,radioName:"providerRadio",id:"radio-".concat(t.id),checked:t.registerLink===r})}))))),u.a.createElement(La,{className:"actions"},u.a.createElement("button",{className:"btn-solid",onClick:this.next,type:"submit",disabled:!n},o("register.next"))))))))}}]),t}(c.Component),Ba=Object(p.d)()(Ma),_a=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={providers:[]},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa.getIdentityProviders();case 2:t=e.sent,this.setState({providers:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.providers;return u.a.createElement(Ba,Object.assign({providers:e},this.props))}}]),t}(c.Component);function Wa(){var e=Object(x.a)(["\n  max-width: 54%;\n  margin: 100px 40px 0 50px;\n\n  @media only screen and (max-width: 900px) {\n    max-width: 100%;\n    margin: 20px 40px;\n    text-align: center;\n  }\n\n  @media only screen and (max-width: 600px) {\n    img {\n      width: 100%;\n    }\n  }\n"]);return Wa=function(){return e},e}function Ua(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  background-image: url('img/spaceman.svg');\n  background-repeat: no-repeat;\n  background-position-x: -125px;\n  background-position-y: 100px;\n  height: 100%;\n\n  @media only screen and (max-width: 900px) {\n    background-image: url('img/spaceman-mobile.svg');\n    background-position: left -80px bottom -10px;\n    background-size: 70%;\n  }\n"]);return Ua=function(){return e},e}var Va=w.default.section(Ua()),Ja=w.default.div(Wa()),qa=function(){var e=Object(p.c)().t;return u.a.createElement(Va,null,u.a.createElement(Ja,null,u.a.createElement("img",{src:"img/404.svg",alt:"404"}),u.a.createElement("h3",null,e("notFound.title")),u.a.createElement("p",null,e("notFound.content")),u.a.createElement("div",null,u.a.createElement(Vt.a,{to:"/",className:"ids-link"},e("notFound.redirectButton")))))};function Xa(){var e=Object(x.a)(["\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return Xa=function(){return e},e}function Ha(){var e=Object(x.a)(["\n  padding: 1rem 3.5rem;\n\n  p,\n  li {\n    color: #666666;\n  }\n  ul {\n    list-style: disc;\n    margin: 0 18px;\n  }\n"]);return Ha=function(){return e},e}function Ka(){var e=Object(x.a)(["\n  background-image: ",";\n  background-size: cover;\n  border-radius: 50%;\n  width: 128px;\n  height: 128px;\n"]);return Ka=function(){return e},e}function Ya(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Ya=function(){return e},e}function $a(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return $a=function(){return e},e}function Qa(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return Qa=function(){return e},e}function Za(){var e=Object(x.a)(["\n  background-color: ##2E2E2E;\n  width: 50%;\n  height: 100%;\n\n  img {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n  }\n"]);return Za=function(){return e},e}function ei(){var e=Object(x.a)(["\n  background-color: #fff;\n  margin: 20px auto;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 80% !important;\n  flex-direction: row !important;\n  padding: 20px 0 !important; //temporary fix to a style guide bug\n\n  align-items: center;\n\n  a {\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return ei=function(){return e},e}function ti(){var e=Object(x.a)(["\n  width: 100%;\n  background-image: url('img/concentric-hex-pattern_2x_black.png');\n  background-repeat: repeat;\n  padding: 20px 0;\n\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n"]);return ti=function(){return e},e}var ni=w.default.section(ti()),ri=w.default.div(ei()),ai=w.default.div(Za()),ii=w.default.div(Qa(),F.tablet($a())),oi=w.default.div(Ya()),ci=(w.default.div(Ka(),(function(e){var t=e.image;return t?"url(".concat(t,")"):"#cccccc"})),w.default.div(Ha())),ui=w.default.span(Xa()),si=new re.a(T.a),li=function(e){var t=e.webId,n=e.image,a=e.updatePhoto,s=e.name,l=Object(p.c)().t;function d(e){return m.apply(this,arguments)}function m(){return(m=Object(P.a)(N.a.mark((function e(n){var a,i,c,u,s,l,d,p;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(n,"settings.ttl"),i="".concat(n,"inbox/"),c="".concat(n,"groups/"),u="".concat(n,"shared/"),s="".concat(n,"notification.json"),l=!1,e.next=8,r.getLinkedInbox(a);case 8:return(d=e.sent)&&(i=d,l=!0),e.next=12,o.checkSpecificAppPermission(t,te.AccessControlList.MODES.WRITE);case 12:if(!e.sent){e.next=40;break}return e.next=16,o.checkSpecificAppPermission(t,te.AccessControlList.MODES.CONTROL);case 16:if(!e.sent){e.next=22;break}return e.next=20,o.checkOrSetInboxAppendPermissions(i,t);case 20:return e.next=22,o.checkOrSetSettingsReadPermissions(a,t);case 22:if(l){e.next=25;break}return e.next=25,G.a[a].inbox.set(Object(ae.namedNode)(i));case 25:return e.next=27,r.resourceExists(c);case 27:if(e.sent){e.next=31;break}return e.next=31,si.createFolder(c,{createPath:!0});case 31:return e.next=33,r.resourceExists(u);case 33:if(e.sent){e.next=37;break}return e.next=37,si.createFolder(u,{createPath:!0});case 37:(p={})["@context"]={"@version":1.1,routes:{"@container":"@list","@id":"viade:routes"},viade:"http://arquisoft.github.io/viadeSpec/"},r.resourceExists(s).then((function(e){!1===e&&Or(p,s,(function(e){}))}));case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){var e=Object(P.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.getAppStorage(t);case 3:return r=e.sent,e.next=6,i.createInitialFiles(t);case 6:if(!r){e.next=9;break}return e.next=9,d(r);case 9:e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(0),"Inbox Error"!==e.t0.name){e.next=15;break}return e.abrupt("return",D(e.t0.message,"Error",{label:l("errorCreateInbox.link.label"),href:l("errorCreateInbox.link.href")}));case 15:D(e.t0.message,"Error");case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t&&f(t)}),[t]),u.a.createElement(ni,{"data-testid":"welcome-wrapper"},u.a.createElement(ri,{className:"card"},u.a.createElement(ai,{"data-testid":"welcome-logo"},u.a.createElement("img",{src:"img/LogoViadeEn2a.svg",alt:"ViaDe En2A"})),u.a.createElement(ii,{"data-testid":"welcome-profile"},u.a.createElement("h3",null,l("welcome.welcome"),", ",u.a.createElement(ui,null,s)),u.a.createElement(oi,null,u.a.createElement(te.Uploader,{fileBase:t&&t.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"jpg,jpeg,png",errorsText:{sizeLimit:l("welcome.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:l("welcome.errors.unsupported"),maximumFiles:l("welcome.errors.maximumFiles")},onError:function(e){e&&e.statusText&&D(e.statusText,l("welcome.errorTitle"))},onComplete:function(e){a(e[e.length-1].uri,l("welcome.uploadSuccess"),l("welcome.successTitle"))},render:function(e){return u.a.createElement(jn,Object(K.a)({},e,{webId:t,photo:n,text:l("welcome.upload"),uploadingText:l("welcome.uploadingText")}))}})))),u.a.createElement(ri,{className:"card"},u.a.createElement(ci,{"data-testid":"welcome-detail"},u.a.createElement(p.a,{i18nKey:"welcome.title"},u.a.createElement("h3",null,"title",u.a.createElement("a",{href:"https://github.com/inrupt/solid-react-sdk",target:"_blank",rel:"noopener noreferrer"},"link"))),u.a.createElement(p.a,{i18nKey:"welcome.description"},u.a.createElement("p",null,"text",u.a.createElement("a",{href:"https://solid.inrupt.com/docs/intro-to-linked-data",target:"_blank",rel:"noopener noreferrer"},"link"),u.a.createElement("a",{href:"https://solid.inrupt.com/how-it-works",target:"_blank",rel:"noopener noreferrer"},"link"),"text")),u.a.createElement("h3",null,l("welcome.githubTiitle")),u.a.createElement(p.a,{i18nKey:"welcome.githubText"},u.a.createElement("p",null,"text",u.a.createElement("a",{href:"https://github.com/Arquisoft/viadeSpec",target:"_blank",rel:"noopener noreferrer"},"link"),u.a.createElement("a",{href:"https://github.com/Arquisoft/viade_en2a",target:"_blank",rel:"noopener noreferrer"},"link"),".")),u.a.createElement("h3",null,l("welcome.useGuideTitle")),u.a.createElement(p.a,{i18nKey:"welcome.useGuide"},u.a.createElement("p",null,"text",u.a.createElement("ul",null,u.a.createElement("li",null,"view"),u.a.createElement("li",null,"create"),u.a.createElement("li",null,"import"),u.a.createElement("li",null,"friends")))))))},di=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).getProfileData=Object(P.a)(N.a.mark((function e(){var t,r,a,i,o,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),r=n.props.webId,a=G.a[r],e.next=5,a.vcard_fn;case 5:return i=e.sent,o=i&&i.value.trim().length>0?i.value:r.toString(),e.next=9,a.vcard_hasPhoto;case 9:(c=e.sent)&&c.value?(u=c.value,t=!0):(t=!1,u="img/icon/empty-profile.svg"),n.setState({name:o,image:u,isLoading:!1,hasImage:t});case 12:case"end":return e.stop()}}),e)}))),n.updatePhoto=function(){var e=Object(P.a)(N.a.mark((function e(t,r){var a,i,o,c=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>2&&void 0!==c[2]?c[2]:"",i=n.state.hasImage,e.prev=2,o=G.a.user,!i){e.next=9;break}return e.next=7,o.vcard_hasPhoto.set(Object(ae.namedNode)(t));case 7:e.next=11;break;case 9:return e.next=11,o.vcard_hasPhoto.add(Object(ae.namedNode)(t));case 11:R(r,a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),D(e.t0.message,"Error");case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),n.state={name:"",image:"img/icon/empty-profile.svg",isLoading:!1,hasImage:!1},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.props.webId&&this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;t&&t!==e.webId&&this.getProfileData()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.image,r=e.isLoading,a=this.props.webId;return u.a.createElement(li,{name:t,image:n,isLoading:r,webId:a,updatePhoto:this.updatePhoto})}}]),t}(c.Component);function pi(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return pi=function(){return e},e}function mi(){var e=Object(x.a)(["\n  width: 100%;\n  display: inline-block;\n  margin: 10px auto;\n  flex-direction: row !important;\n"]);return mi=function(){return e},e}function fi(){var e=Object(x.a)(["\n  color: #18A9E6;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return fi=function(){return e},e}function hi(){var e=Object(x.a)(["\n  flex-direction: row !important;\n  align-items: center;\n  border: 2px solid #fff ;\n"]);return hi=function(){return e},e}function bi(){var e=Object(x.a)(["\nwidth: 100%;\nbackground-image: url('img/concentric-hex-pattern_2x_black.png');\nbackground-repeat: repeat;\n"]);return bi=function(){return e},e}var gi=w.default.section(bi()),vi=w.default.div(hi()),xi=w.default.span(fi()),wi=w.default.div(mi()),Ei=w.default.input(pi()),Oi=n(70),yi=function(e){var t=e.route,n=Object(p.c)().t,r=[];return t.itinerary.forEach((function(e){r.push({lat:e.latitude,lng:e.longitude})})),u.a.createElement("div",null,u.a.createElement("h3",null,u.a.createElement(xi,null,n("mapView.viewTitle"),t.name)),u.a.createElement(vi,null,u.a.createElement(Oi.a,{id:"mapView",zoom:5,resetBoundsOnResize:!0,mapContainerStyle:{"max-height":"calc(100vh - 180px)",height:"800px",width:"100%",padding:"1rem 3.5rem"},loadingElement:u.a.createElement("div",null,"Loading..."),center:{lat:r[0].lat,lng:r[0].lng}},u.a.createElement(Oi.c,{geodesic:!0,options:{path:r,strokeColor:"#ff0000",strokeOpacity:1,strokeWeight:6,icons:[{offset:"0",repeat:"10px"}]}}))))},ki=n(178),ji=n(363),Si=n(165),Ii=n(77),Ni=n(22),Ci=n(26),Li=n(20),Fi=n(176);var Di=function(e){var t=e.comments,n=[];e.resources&&(n=e.resources.map((function(e){return{"@id":e.resourceUrl}})));var r=[];return e.itinerary&&(r=e.itinerary.map((function(e){return{latitude:e.latitude,longitude:e.longitude}}))),{"@context":{"@version":1.1,comments:{"@container":"@list","@id":"viade:comments"},description:{"@id":"schema:description","@type":"xs:string"},media:{"@container":"@list","@id":"viade:media"},name:{"@id":"schema:name","@type":"xs:string"},points:{"@container":"@list","@id":"viade:points"},latitude:{"@id":"schema:latitude","@type":"xs:double"},longitude:{"@id":"schema:longitude","@type":"xs:double"},rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",viade:"http://arquisoft.github.io/viadeSpec/",xsd:"http://www.w3.org/2001/XMLSchema#"},name:e.name,description:e.description,points:r,comments:t,media:n}},Ri=function e(t,n,r){Object(Ee.a)(this,e),this.latitude=t,this.longitude=n,this.elevation=r},Pi=function e(t,n,r,a,i){Object(Ee.a)(this,e),this.name=t,this.description=n,this.latitude=r,this.longitude=a,this.elevation=i},Ai=function(){function e(t){Object(Ee.a)(this,e),this.resourceUrl=t;var n=t.split(".");this.extension=n[n.length-1].toLowerCase()}return Object(Oe.a)(e,[{key:"isAudio",value:function(){return"mp3"===this.extension}},{key:"isImage",value:function(){return"jpg"===this.extension||"png"===this.extension||"gif"===this.extension||"jpeg"===this.extension}},{key:"isVideo",value:function(){return"mp4"===this.extension}}]),e}(),Ti=function e(t,n,r){Object(Ee.a)(this,e),this.text=t,this.dateCreated=n,this.author=r},zi=function(){function e(t){Object(Ee.a)(this,e),t.name&&(this.name=t.name),t.description&&(this.description=t.description),t.itinerary&&(this.itinerary=t.itinerary),t.comments&&(this.comments=t.comments),t.resources&&(this.resources=t.resources),t.commentList&&(this.commentList=t.commentList)}return Object(Oe.a)(e,[{key:"addWaypoints",value:function(e){this.waypoints=e}}]),e}();function Gi(e,t,n){!function(e,t){Sr.apply(this,arguments)}(e,(function(e){Mi(t,e,n)}))}function Mi(e,t,n){e.resources.push(new Ai(t)),function(e,t,n){Ir.apply(this,arguments)}(Di(e),e.fileWebId,(function(e){n(e)}))}function Bi(){var e=Object(x.a)(["\n    margin: 5px 0px;\n    width: 100%;\n\n    .button{\n        margin: 10px 0px;\n    }\n"]);return Bi=function(){return e},e}var _i=w.default.div(Bi()),Wi=function(e){var t=e.routeObject,n=Object(c.useState)([]),r=Object(ot.a)(n,2),a=r[0],i=r[1],o=Object(p.c)().t;function s(){a.forEach((function(e){Gi(e,t,(function(e){e?R(o("resourceUpload.success")):D(o("resourceUpload.failure"))}))}))}var l=Object(c.useCallback)((function(e){1!==e.length?D(o("error.sizeLimitImport")):(i((function(t){return e})),s())}),[]),d={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},m={borderColor:"#2196f3"},f={borderColor:"#00e676"},h={borderColor:"#ff1744"},b=Object(Fi.a)({accept:[".jpg",".mp4",".jpeg",".png",".mp3",".gif"],maxFiles:1,onDrop:l}),g=b.getRootProps,v=b.getInputProps,x=b.isDragActive,w=b.isDragAccept,E=b.isDragReject,O=Object(c.useMemo)((function(){return Object(K.a)({},d,x?m:{},w?f:{},E?h:{})}),[x,E]);return u.a.createElement(_i,null,u.a.createElement("div",Object.assign({"data-testid":"dropMenu"},g({style:O})),u.a.createElement("input",v()),u.a.createElement("p",null,o("resourceUpload.dragAndDropMain")),u.a.createElement("p",null,o("resourceUpload.dragAndDropSupported"))),u.a.createElement(Ur.a,{className:"button",variant:"primary",onClick:function(){return s()}},o("resourceUpload.button")))},Ui=n(18);function Vi(){var e=Object(x.a)(["\n    margin: 20px 0px;\n    width: 100%;\n\n    .label{\n        font-size: 16px;\n        color: #18A9E6;\n    }\n\n    .input{\n        width: 100%;\n    }\n\n    .input:invalid{\n        border-color: #18A9E6;\n    }\n\n    .input:valid{\n        border-color: #18A9E6;\n    }\n"]);return Vi=function(){return e},e}var Ji=w.default.section(Vi()),qi=function(e){var t=e.routeObject,n=Object(c.useState)(""),r=Object(ot.a)(n,2),a=r[0],i=r[1],o=Object(p.c)().t;return u.a.createElement(Ji,null,u.a.createElement(Ui.a,{onSubmit:function(){Mi(t,a,(function(e){e?R(o("resourceVinculation.success")):D(o("resourceVinculation.failure"))}))}},u.a.createElement(Ui.a.Group,{controlId:"formName"},u.a.createElement(Ui.a.Label,{className:"label"}," ",o("resourceVinculation.label")),u.a.createElement(Ui.a.Control,{className:"input",required:!0,type:"text",placeholder:o("https://luispresacollada.solid.community/viade/resources/holi.jpg"),onChange:function(e){i(e.currentTarget.value)}})),u.a.createElement(Ur.a,{variant:"primary",type:"submit"}," ",o("resourceVinculation.button")," ")))},Xi=n(345),Hi=n.n(Xi),Ki=n(346),Yi=n.n(Ki);function $i(){var e=Object(x.a)(["\n    .label{\n        margin: 5px 0px;\n        font-size: 16px;\n        font-weight: bold;\n        color: #18A9E6;\n    }\n"]);return $i=function(){return e},e}var Qi=w.default.div($i()),Zi=function(e){var t=Object(p.c)().t,n=e.routeObject,r=Object(c.useState)(!1),a=Object(ot.a)(r,2),i=a[0],o=a[1];return Nr(n.fileWebId).then((function(e){o(e)})),u.a.createElement(Ii.a.Dialog,{scrollable:!0,centered:!0,style:{"max-width":"100%"},"data-testid":"multimediaTab"},u.a.createElement(Ii.a.Body,{style:{"max-height":"calc(100vh - 220px)","overflow-y":"auto",width:"100%","scrollbar-width":"thin"}},u.a.createElement(Ci.a,null,u.a.createElement(c.Fragment,null,i?u.a.createElement(Ci.a,null,u.a.createElement(Ni.a,null,u.a.createElement(Wi,{routeObject:n})),u.a.createElement(Ni.a,null,u.a.createElement(qi,{routeObject:n}))):null),u.a.createElement(Qi,null,u.a.createElement("p",{className:"label"},t("mapView.resources.pictures")," "),n.imagesToDisplay.map((function(e){return u.a.createElement(Ni.a,null,u.a.createElement(Li.a,null,u.a.createElement(Si.a,{src:e.resourceUrl,style:{padding:"15px","max-width":"300px","max-height":"300px"}})))})),u.a.createElement("p",{className:"label"},t("mapView.resources.videos")," "),n.videosToDisplay.map((function(e){return u.a.createElement(Ni.a,null,u.a.createElement(Li.a,null,u.a.createElement(Hi.a,{url:e.resourceUrl,controls:!0})))})),u.a.createElement("p",{className:"label"},t("mapView.resources.audios")," "),n.audiosToDisplay.map((function(e){return u.a.createElement(Ni.a,null,u.a.createElement(Li.a,null,u.a.createElement(Yi.a,{src:e.resourceUrl,controls:!0})))}))))))},eo=n(19),to=n(234),no=function(e){function t(e){var n;Object(Ee.a)(this,t),n=Object(ye.a)(this,Object(ke.a)(t).call(this,e));var r=e.comments;return n.state={comments:r},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){return u.a.createElement(Ii.a.Dialog,{className:"commentsList",scrollable:!0,centered:!0,style:{"max-width":"100%"}},u.a.createElement(Ii.a.Body,{style:{"max-height":"calc(100vh - 220px)","overflow-y":"auto",width:"100%","scrollbar-width":"thin"}},u.a.createElement(Ci.a,null,this.props.comments.map((function(e){return u.a.createElement(to.a,null,u.a.createElement(to.a.Body,null,u.a.createElement("p",{style:{"font-size":"15px","font-weight":"bold"}},e.author.replace("https://","").replace("/profile/card#me","")," ","- ",e.dateCreated),u.a.createElement("p",null," ",e.text," ")))})))))}}]),t}(u.a.Component),ro=function(e){function t(){return Object(Ee.a)(this,t),Object(ye.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t;return u.a.createElement(Ui.a,{onSubmit:this.props.handleSubmit},u.a.createElement(Ui.a.Group,{controlId:"formComment"},u.a.createElement(Ui.a.Label,null,t("mapView.comment.fieldName")),u.a.createElement(Ui.a.Control,{as:"textarea",rows:"3",placeholder:t("mapView.comment.commentPlaceholder"),onChange:function(t){e.props.setText(t.currentTarget.value)}})),u.a.createElement(Ur.a,{variant:"primary",type:"submit"},t("mapView.comment.commentButton")))}}]),t}(c.Component),ao=Object(p.d)()(ro);function io(){var e=Object(x.a)(["\n    .form-label{\n        font-size: 15px;\n        margin-top: 10px;\n    }\n"]);return io=function(){return e},e}var oo=w.default.div(io()),co=n(455).parse,uo=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a,i,o,c,u,s,l,d,p,m,f,h,b,g,v;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",r=[],a="",i=!1,"ttl"!==t.substring(t.length-3)){e.next=9;break}return e.next=7,vr(t).then((function(e){try{var r=t.split("routes")[1];n=so(e,r.substring(1,r.length-4))}catch(a){i=!0}}));case 7:e.next=11;break;case 9:return e.next=11,vr(t).then((function(e){try{n=JSON.parse(e)}catch(t){i=!0}}));case 11:if(i){e.next=39;break}o="",c="",u=[],s=[],l=[],d=[],p=[],e.t0=N.a.keys(n);case 20:if((e.t1=e.t0()).done){e.next=33;break}if(m=e.t1.value,f=n[m],"name"===m&&(o=f),"description"===m&&(c=f),"points"===m)for(h in f)u.push(new Ri(f[h].latitude,f[h].longitude));if("comments"!==m){e.next=30;break}return a=f,e.next=30,ho(a).then((function(e){r=e}));case 30:if("media"===m)for(b in f)g=new Ai(f[b]["@id"]),s.push(g),g.isAudio()&&p.push(g),g.isImage()&&l.push(g),g.isVideo()&&d.push(g);e.next=20;break;case 33:return(v=new zi({name:o,description:c,itinerary:u,resources:s,comments:a,commentList:r})).fileWebId=t,v.imagesToDisplay=l,v.videosToDisplay=d,v.audiosToDisplay=p,e.abrupt("return",v);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),so=function(e,t){var n=co(e),r="",a="",i="",o=[];n["@graph"]?(r=n["@graph"][0]["schema:name"],a=n["@graph"][0]["schema:description"],i=n["@graph"][0]["viade:point"].map((function(e){return{latitude:parseFloat(e["schema:latitude"]["@value"]),longitude:parseFloat(e["schema:longitude"]["@value"])}})),o=(o=n["@graph"].filter((function(e){return e["@id"].includes("media")}))).map((function(e){return{"@id":e["schema:contentUrl"]["@id"]}}))):(r=n["schema:name"],a=n["schema:description"],i=n["viade:point"].map((function(e){return{latitude:parseFloat(e["schema:latitude"]["@value"]),longitude:parseFloat(e["schema:longitude"]["@value"])}})));var c={"@context":{"@version":1.1,comments:{"@container":"@list","@id":"viade:comments"},description:{"@id":"schema:description","@type":"xs:string"},media:{"@container":"@list","@id":"viade:media"},name:{"@id":"schema:name","@type":"xs:string"},points:{"@container":"@list","@id":"viade:points"},latitude:{"@id":"schema:latitude","@type":"xs:double"},longitude:{"@id":"schema:longitude","@type":"xs:double"},rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",viade:"http://arquisoft.github.io/viadeSpec/",xsd:"http://www.w3.org/2001/XMLSchema#"},name:r,description:a,points:i,comments:"",media:o};return Er(c,(function(e){}),t),c},lo=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xr(t);case 2:if(!(n=e.sent).files){e.next=7;break}return r=n.files.filter((function(e){var t=e.url.split("routes")[1].split(".");return"jsonld"===t[t.length-1]})).map((function(e){return e.url})),po(r,n.files),e.abrupt("return",r);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),po=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",t=t.map((function(e){var t=e.split("routes")[1].split(".");return""===r&&(r=e.split(t[0])[0]),t[0]})),a=n.filter((function(e){var t=e.url.split("routes")[1].split(".");return"ttl"===t[t.length-1]})).map((function(e){return e.url})).map((function(e){var t=e.split("routes")[1].split(".");return""===r&&(r=e.split(t[0])[0]),t[0]})),a.filter((function(e){return-1===t.indexOf(e)})).map((function(e){return r+e+".ttl"})).forEach((function(e){vr(e).then((function(t){try{var n=e.split("routes")[1];so(t,n.substring(1,n.length-4))}catch(r){}}))}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mo=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,o,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.substring(0,t.length-16)+"/viade/shared/"+n+".jsonld",a="",e.next=4,vr(r).then((function(e){null!==e&&(a=JSON.parse(e))}));case 4:for(o in i=[],a)if("routes"===o)for(u in c=a[o])i.push(c[u]["@id"]);return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fo=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Di(t),Er(r,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function ho(e){return bo.apply(this,arguments)}function bo(){return(bo=Object(P.a)(N.a.mark((function e(t){var n,r,a,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,vr(t).then((function(e){try{r=JSON.parse(e)}catch(t){}}));case 3:for(a=[],r&&r.comments&&(a=r.comments),i=0;i<a.length;i++)n.push(new Ti(a[i].text,a[i].dateCreated,a[i].author));return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var go=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a,i,o,c,u,s,l,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,vr(t).then((function(e){n=JSON.parse(e)}));case 4:for(c in r="",a="",i=[],o=[],n)if(u=n[c],"name"===c&&(r=u),"description"===c&&(a=u),"media"===c)for(s in u)l=new Ai(u[s]["@id"]),i.push(l),l.isImage()&&o.push(l);return(d=new zi({name:r,description:a,resources:i})).fileWebId=t,d.imagesToDisplay=o,e.abrupt("return",d);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return","error");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),vo=function(e){function t(e){var n;Object(Ee.a)(this,t);var r=(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).props.routeObject;return n.state={text:"",commentList:r.commentList},n.handleSetText=n.handleSetText.bind(Object(eo.a)(Object(eo.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(eo.a)(Object(eo.a)(n))),n.commentsListReference=u.a.createRef(),n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"handleSetText",value:function(e){this.setState({text:e})}},{key:"handleSubmit",value:function(e){var t=this.props.t,n=this.props.routeObject,r=this;br(this.state.text,n.comments,(function(e){e?ho(n.comments).then((function(e){r.setState({commentList:e}),R(t("mapView.comment.commentSuccess"))})):D(t("mapView.comment.commentFailure"))})),e.preventDefault()}},{key:"render",value:function(){return u.a.createElement(Ci.a,{fluid:!0,"data-testid":"commentsTab"},u.a.createElement(oo,null,u.a.createElement(ao,{setText:this.handleSetText,handleSubmit:this.handleSubmit}),u.a.createElement(no,{ref:this.commentsListReference,comments:this.state.commentList})))}}]),t}(c.Component),xo=Object(p.d)()(vo),wo=function(e){var t=e.route;return u.a.createElement(Ii.a.Dialog,{scrollable:!0,centered:!0,style:{"max-width":"100%"},"data-testid":"dataTab"},u.a.createElement(Ii.a.Body,{style:{"max-height":"calc(100vh - 220px)","overflow-y":"auto",width:"100%","scrollbar-width":"thin"}},u.a.createElement(Ci.a,null,u.a.createElement("h4",null,t.name),u.a.createElement("p",null,t.description),u.a.createElement("h5",null,"Puntos de ruta"),u.a.createElement("ol",null,t.itinerary.map((function(e){return u.a.createElement("li",null,null!==e.name&&u.a.createElement("p",null,"name:",e.name),null!==e.description&&u.a.createElement("p",null,"description:",e.description),u.a.createElement("p",null,"latitude:",e.latitude),u.a.createElement("p",null,"longitude:",e.longitude),null!==e.elevation&&u.a.createElement("p",null,"elevation:",e.elevation))}))))))},Eo=function(e){var t=Object(p.c)().t,n=e.route;return u.a.createElement(ji.a,{id:"controlled-tab-example","data-testid":"tabs"},u.a.createElement(ki.a,{eventKey:"multimedia",title:t("mapView.menu.images")},u.a.createElement(Zi,{routeObject:n})),u.a.createElement(ki.a,{eventKey:"comments",title:t("mapView.menu.comments")},u.a.createElement(xo,{routeObject:n})),u.a.createElement(ki.a,{eventKey:"data",title:t("mapView.menu.data")},u.a.createElement(wo,{route:n})))};function Oo(){var e=Object(x.a)(["\nwidth: 100%;\nmargin: 42px auto 0px auto;\nbackground-color: #fff;\nbackground-repeat: repeat;\n\n.modal-dialog{\n    margin: 0px;\n}\n"]);return Oo=function(){return e},e}var yo=w.default.section(Oo()),ko=n(175),jo=n(90),So=n(91);function Io(e,t){return No.apply(this,arguments)}function No(){return(No=Object(P.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.a[n].knows.delete(G.a[t]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(P.a)(N.a.mark((function e(t,n,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Io(n,r);case 3:return e.next=5,Ao();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(e,t){return Do.apply(this,arguments)}function Do(){return(Do=Object(P.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.location.replace(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t){return Po.apply(this,arguments)}function Po(){return(Po=Object(P.a)(N.a.mark((function e(t,n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.replace("https://",""),r=Vr.Base64.encode(r),ko.a.push("/viade_en2a/#/friendRoutes/"+r),e.next=6,Ao();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ao=function(){window.location.reload(!0)};function To(e){return e.toString().substring(8).split(".")[0]}function zo(e,t){if(void 0!==t)for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n].img}var Go=new re.a(T.a),Mo=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Go.readFile(t);case 3:return r=e.sent,JSON.parse(r).users.forEach((function(e){n.push(e.url)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bo=function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.readFile(t);case 2:return n=e.sent,r=JSON.parse(n),e.abrupt("return",r.name);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_o=function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.itemExists(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wo=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.readFile(n);case 2:r=e.sent,a=JSON.parse(r),e.t0=N.a.keys(a.users);case 5:if((e.t1=e.t0()).done){e.next=12;break}if(i=e.t1.value,!a.users.hasOwnProperty(i)){e.next=10;break}if(a.users[i].url!==t){e.next=10;break}return e.abrupt("return");case 10:e.next=5;break;case 12:return a.users[a.users.length]={url:t},e.next=15,Go.createFile(n,JSON.stringify(a),"text/plain");case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Uo=function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.deleteFile(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vo=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.readFile(n);case 2:for(i in r=e.sent,(a=JSON.parse(r)).users)a.users.hasOwnProperty(i)&&a.users[i].url===t&&delete a.users[i];return a.users=a.users.filter((function(e){return e})),e.next=8,Go.createFile(n,JSON.stringify(a),"text/plain");case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jo=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r={"@context":{"@version":1.1,users:{"@container":"@list","@id":"schema:Person"},name:{"@id":"schema:name","@type":"xs:string"},url:{"@id":"schema:url","@type":"xs:string"},schema:"http://schema.org/",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"",users:[]}).name=n,i=(a=t).substring(0,a.length-16)+"/viade/groups",o=i+"/"+n+".txt",e.next=7,Go.createFile(o,JSON.stringify(r),"text/plain");case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qo=function(){var e=Object(P.a)(N.a.mark((function e(t,n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go.readFile(t);case 2:return r=e.sent,(a=JSON.parse(r)).name=n,e.next=7,Go.createFile(t,JSON.stringify(a),"text/plain");case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Xo(){var e=Object(x.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  display: inline-table;\n"]);return Xo=function(){return e},e}function Ho(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return Ho=function(){return e},e}var Ko=w.default.img(Ho()),Yo=w.default.div(Xo()),$o=function(e){var t=e.webId,n=e.routeUrl,s=e.friends,l=e.images,d=Object(p.c)().t,m=Object(c.useState)(!1),f=Object(ot.a)(m,2),h=f[0],b=f[1],g=Object(c.useState)(""),v=Object(ot.a)(g,2),x=v[0],w=v[1],E=Object(c.useState)(!1),O=Object(ot.a)(E,2),y=O[0],k=O[1],j=function(){b(!1)};Nr(n).then((function(e){k(e)}));var S=Object(te.useNotification)(t).createNotification;function I(){return(I=Object(P.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.endsWith("me")?C(x)?(j(),R(d("mapView.shareSuccess"))):(j(),D(d("mapView.errorSuccess")+x)):Mo(x).then((function(e){e.forEach(function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:if(e.t0=e.sent,!1!==e.t0){e.next=6;break}j(),D(d("mapView.errorSuccess")+x);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j(),R(d("mapView.shareSuccess"))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return L.apply(this,arguments)}function L(){return(L=Object(P.a)(N.a.mark((function e(r){var c,u,s,l,p,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r||0===r.length){e.next=24;break}return e.next=3,F(r);case 3:if(!0!==e.sent){e.next=23;break}return o.setReadPermissions(n,t,r),vr(n).then((function(e){var n=JSON.parse(e).comments;o.setReadWritePermissions(n,t,r)})),c=n.split("/"),u={title:d("mapView.notificationTitle"),summary:t.substring(8,t.length-16)+d("mapView.notificationSummary")+c[c.length-1],actor:t},s="",e.next=12,i.getAppStorage(r);case 12:return s=e.sent,l="".concat(s,"settings.ttl"),e.next=16,a.findUserInboxes([{path:r,name:"Global"},{path:l,name:"Viade"}]);case 16:return p=e.sent,m=a.getDefaultInbox(p,"Viade","Global"),"https://creativecommons.org/licenses/by-sa/4.0/",S(u,m.path,te.NotificationTypes.ANNOUNCE,"https://creativecommons.org/licenses/by-sa/4.0/"),e.abrupt("return",!0);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return A.apply(this,arguments)}function A(){return(A=Object(P.a)(N.a.mark((function e(t){var n,a,o,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,r.resourceExists(t);case 3:if(!0!==(a=e.sent)){e.next=15;break}return e.next=7,i.getAppStorage(t);case 7:return n=e.sent,o="".concat(n,"inbox"),e.next=11,r.resourceExists(o);case 11:return c=e.sent,e.abrupt("return",c);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(c.Fragment,null,y?u.a.createElement("div",{"data-testid":"shareButton-container"},u.a.createElement(wi,{"data-testid":"buttonWrapper",key:"buttonWrapper"},u.a.createElement(Ur.a,{variant:"success",onClick:function(){b(!0)},"data-testid":"buttonShare",id:"buttonShare",key:"buttonShare"},d("mapView.shareButton"))),u.a.createElement(Ii.a,{show:h,onHide:j,centered:!0,"data-testid":"modalShare",key:"modalShare"},u.a.createElement(Ii.a.Header,{closeButton:!0,key:"closeShare","data-testid":"closeShare"}),u.a.createElement(Ii.a.Body,{key:"modalbody"},d("mapView.shareWith"),u.a.createElement(Ei,{type:"text",size:"200",value:x,onChange:function(e){e.preventDefault(),w(e.target.value)},"data-testid":"inputShare",key:"inputShare",id:"inputShare"}),s.map((function(e){return u.a.createElement("div",null,u.a.createElement(Ur.a,{className:"buttonFriend",variant:"light",onClick:function(t){return function(e,t){e.preventDefault(),w(t)}(t,e)},"data-testid":"buttonFriend"+e,key:"buttonFriend"+e,style:{paddingLeft:"1px",width:"100%",margin:"5px","text-align":"left"}},u.a.createElement(Yo,{style:{height:"42px","padding-left":"10px",width:"62px",overflow:"visible","padding-right":"10px"},"data-testid":"imageContainer"+e,key:"imageContainer"+e},u.a.createElement(Ko,{style:{"border-radius":"50%"},src:zo(e,l),alt:"profile","data-testid":"img"+e,key:"img"+e})),To(e)))}))),u.a.createElement(Ii.a.Footer,{key:"modalFooter"},u.a.createElement(Ur.a,{variant:"primary",onClick:function(){return I.apply(this,arguments)},"data-testid":"shareWith",key:"shareWith",id:"shareWith"},d("mapView.share"))))):null)},Qo=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).viewContent=function(e){return u.a.createElement(gi,null,u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{xs:12,md:7,sm:8},u.a.createElement(yi,{route:e})),u.a.createElement(Li.a,{xs:12,md:5,sm:4},u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(yo,null,u.a.createElement(Eo,{route:e}))),u.a.createElement(Ni.a,null,u.a.createElement($o,{webId:n.props.webId,routeUrl:"https://"+Vr.Base64.decode(n.props.match.params.route),friends:n.state.friends,images:n.state.images})))))))},n.state={loading:!0,route:"https://"+Vr.Base64.decode(n.props.match.params.route),title:null,friends:null,images:[]},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=this;uo(this.state.route).then((function(t){e.setState({loading:!1,route:t})})),this.loadFriends()}},{key:"loadFriends",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(So.a)(this.props.webId);case 2:return t=e.sent,n=t.getSubject(this.props.webId),r=n.getAllRefs(jo.a.knows),this.setState({friends:r}),e.next=8,this.loadImage(this.state.friends);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var n=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){G.a[e].vcard_hasPhoto.then((function(t){if(t&&t.value){var r=n.state.images;r.push({id:e,img:t.value}),n.setState({images:r})}else{var a=n.state.images;a.push({id:e,img:"img/icon/empty-profile.svg"}),n.setState({images:a})}}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this.state.loading;return u.a.createElement(c.Fragment,null,e?u.a.createElement(Ze,null):this.viewContent(this.state.route))}}]),t}(c.Component),Zo=n(177);function ec(){var e=Object(x.a)(["\n  .backButton:hover{\n    color: #18A9E6;\n  }\n"]);return ec=function(){return e},e}var tc=w.default.section(ec()),nc=function(e){var t=Object(p.c)().t,n=function(){window.location.reload(!0)};function r(){return(r=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ko.a.push("/viade_en2a/#/manageFriends"),e.next=4,n();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(tc,null,u.a.createElement(Ur.a,{className:"backButton",variant:"light",onClick:function(e){return function(e){return r.apply(this,arguments)}(e)},"data-testid":"friend-backButton"},t("utils.back")))},rc=n(51),ac=n(115),ic=function(e){var t=e.friendWebId,n=Object(p.c)().t;return u.a.createElement(ac.a,{variant:"light",id:"dropdown-basic-button",title:"","data-testid":"friend-dropdown"},u.a.createElement(rc.a.Item,{target:"_blank",href:t},n("friendsManagement.profile")),u.a.createElement(rc.a.Item,{onClick:function(e){return Co(e)}},n("friendsManagement.delete")))},oc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={friendName:""},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"getFriendName",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(So.a)(t);case 2:return n=e.sent,r=n.getSubject(t),e.next=6,r.getString(jo.a.name);case 6:a=e.sent,this.setState({friendName:a});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadName",value:function(e){this.getFriendName(e)}},{key:"render",value:function(){var e=this.props,t=e.webId,n=e.friendWebId;this.loadName(n);var r=this.state.friendName;return u.a.createElement(Ci.a,{fluid:!0,"data-testid":"friendBar-component"},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{align:"right"},u.a.createElement(nc,null)),u.a.createElement(Li.a,{xs:6},u.a.createElement(Zo.a,{style:{height:"65%"},text:"primary","data-testid":"friendBarName"},r)),u.a.createElement(Li.a,null,u.a.createElement(ic,{webId:t,friendWebId:n}))))}}]),t}(c.Component);function cc(){var e=Object(x.a)(["\n  min-width: 100% !important;\n  max-height: 20%;\n  flex-direction: row !important;\n  padding: 20px 0px;\n  align-items: center;\n"]);return cc=function(){return e},e}var uc=w.default.div(cc());function sc(){var e=Object(x.a)(["\n  width: 50%;\n  height: 100%;\n  position: relative;\n  .img {\n    width: auto;\n    height: 100px;\n  }\n"]);return sc=function(){return e},e}function lc(){var e=Object(x.a)(["\n  //Overriding the style guide card flexbox settings\n  flex-direction: row !important;\n  padding: 0px 0px;\n  align-items: left;\n\n  color: black;\n\n  :hover {\n    color: #18A9E6;\n    background-color: #F2F2F2;\n  }\n\n  .error{\n    color: red;\n    padding: 0px;\n  }\n"]);return lc=function(){return e},e}function dc(){var e=Object(x.a)(["\n  display: flex;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return dc=function(){return e},e}function pc(){var e=Object(x.a)(["\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return pc=function(){return e},e}function mc(){var e=Object(x.a)(["\n  padding: 1rem 3.5rem;\n\n  p,\n  li {\n    color: #666666;\n  }\n  ul {\n    list-style: disc;\n    margin: 0 18px;\n  }\n"]);return mc=function(){return e},e}function fc(){var e=Object(x.a)(["\n  background-image: ",";\n  background-size: cover;\n  border-radius: 50%;\n  width: 128px;\n  height: 128px;\n"]);return fc=function(){return e},e}function hc(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return hc=function(){return e},e}function bc(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return bc=function(){return e},e}function gc(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return gc=function(){return e},e}function vc(){var e=Object(x.a)(["\n  width: 50%;\n  height: 100%;\n\n  img {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n  }\n"]);return vc=function(){return e},e}function xc(){var e=Object(x.a)(["\n  margin: 20px auto;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 80% !important;\n  flex-direction: row !important;\n  padding: 20px 0 !important; //temporary fix to a style guide bug\n\n  align-items: center;\n\n  a {\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return xc=function(){return e},e}function wc(){var e=Object(x.a)(['\n  width: 100%;\n  background-image: url("img/concentric-hex-pattern_2x_black.png");\n  background-repeat: repeat;\n  padding: 20px 0;\n\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n']);return wc=function(){return e},e}var Ec=w.default.section(wc()),Oc=w.default.div(xc()),yc=w.default.div(vc()),kc=w.default.div(gc(),F.tablet(bc())),jc=w.default.div(hc()),Sc=(w.default.div(fc(),(function(e){var t=e.image;return t?"url(".concat(t,")"):"#cccccc"})),w.default.div(mc()),w.default.span(pc())),Ic=(w.default.div(dc()),w.default.div(lc())),Nc=w.default.div(sc()),Cc=function(e){var t=e.webId,n=e.image,r=e.updatePhoto,a=e.handleInfiniteLoad,i=e.elementInfiniteLoad,o=e.elements,c=e.isInfiniteLoading,s=e.name,l=Object(p.c)().t;return u.a.createElement(Ec,{"data-testid":"welcome-wrapper"},u.a.createElement(Oc,{className:"card"},u.a.createElement(yc,{"data-testid":"welcome-logo"},u.a.createElement("img",{src:"img/LogoViadeEn2a.svg",alt:"Viade En2A"})),u.a.createElement(kc,{"data-testid":"welcome-profile"},u.a.createElement("h3",null,l("welcome.welcome"),", ",u.a.createElement(Sc,null,s)),u.a.createElement(jc,null,u.a.createElement(te.Uploader,{fileBase:t&&t.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"jpg,jpeg,png",errorsText:{sizeLimit:l("welcome.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:l("welcome.errors.unsupported"),maximumFiles:l("welcome.errors.maximumFiles")},onError:function(e){e&&e.statusText&&D(e.statusText,l("welcome.errorTitle"))},onComplete:function(e){r(e[e.length-1].uri,l("welcome.uploadSuccess"),l("welcome.successTitle"))},render:function(e){return u.a.createElement(jn,Object(K.a)({},e,{webId:t,photo:n,text:l("welcome.upload"),uploadingText:l("welcome.uploadingText")}))}})))),u.a.createElement(Oc,{className:"card"},u.a.createElement(Jr,{elements:o,isInfiniteLoading:c,handleInfiniteLoad:a,elementInfiniteLoad:i})))},Lc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).setState({message:n.props.message}),n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this.props.t;return u.a.createElement("div",{className:"error"},e("error.removedRoute"))}}]),t}(c.Component),Fc=Object(p.d)()(Lc),Dc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).viewContent=function(e){if(void 0!==e&&"error"!==e){var t=0!==e.imagesToDisplay.length?e.imagesToDisplay[0].resourceUrl:n.defaultImage;return u.a.createElement(Ic,{className:"card"},u.a.createElement(Nc,null,u.a.createElement(Si.a,{className:"img",src:t})),u.a.createElement(kc,null,e.name," "))}return u.a.createElement(Ic,{className:"card"},u.a.createElement(Fc,{message:"This route has been removed"}))},n.defaultImage="img/defaultRouteImg.png",n.state={loading:!0,route:"https://"+n.props.url,title:null},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=this;go(this.state.route).then((function(t){e.setState({loading:!1,route:t})}))}},{key:"render",value:function(){var e=this.state.loading;return u.a.createElement(c.Fragment,null,e?null:this.viewContent(this.state.route))}}]),t}(c.Component),Rc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).getProfileData=Object(P.a)(N.a.mark((function e(){var t,r,a,i,o,c,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),r=n.props.webId,a=G.a[r],e.next=5,a.vcard_fn;case 5:return i=e.sent,o=i&&i.value.trim().length>0?i.value:r.toString(),e.next=9,a.vcard_hasPhoto;case 9:(c=e.sent)&&c.value?(u=c.value,t=!0):(t=!1,u="img/icon/empty-profile.svg"),n.setState({name:o,image:u,isLoading:!1,hasImage:t});case 12:case"end":return e.stop()}}),e)}))),n.updatePhoto=function(){var e=Object(P.a)(N.a.mark((function e(t,r){var a,i,o,c=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>2&&void 0!==c[2]?c[2]:"",i=n.state.hasImage,e.prev=2,o=G.a.user,!i){e.next=9;break}return e.next=7,o.vcard_hasPhoto.set(Object(ae.namedNode)(t));case 7:e.next=11;break;case 9:return e.next=11,o.vcard_hasPhoto.add(Object(ae.namedNode)(t));case 11:R(r,a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),D(e.t0.message,"Error");case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),n.handleInfiniteLoad=function(){var e=Object(eo.a)(Object(eo.a)(n));n.setState({isInfiniteLoading:!0}),setTimeout((function(){var t=e.state.elements.length,n=e.buildElements(t,t+10);e.setState({isInfiniteLoading:!1,elements:e.state.elements.concat(n)})}),100)},n.state={name:"",image:"img/icon/empty-profile.svg",isLoading:!1,hasImage:!1,elements:[],isInfiniteLoading:!1,routes:[]},n.loadRoutes(),n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"loadRoutes",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(this.props.webId);case 2:t=e.sent,n=t.map((function(e){return e.replace("https://","")})),this.setState({routes:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.webId&&this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;t&&t!==e.webId&&this.getProfileData()}},{key:"buildElements",value:function(e,t){for(var n=[],r=e;r<t;r++)void 0!==this.state.routes[r]&&n.push(u.a.createElement(Dc,{key:r,num:r,url:this.state.routes[r]}));return n}},{key:"elementInfiniteLoad",value:function(){return u.a.createElement("div",{className:"infinite-list-item"},"Loading...")}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.image,r=e.isLoading;return 0===this.state.routes.length?u.a.createElement(Ec,null,u.a.createElement(Cc,{name:t,image:n,isLoading:r,updatePhoto:this.updatePhoto,handleInfiniteLoad:this.handleInfiniteLoad,elementInfiniteLoad:this.elementInfiniteLoad,elements:[],isInfiniteLoading:this.state.isInfiniteLoading})):u.a.createElement(Cc,{name:t,image:n,isLoading:r,updatePhoto:this.updatePhoto,handleInfiniteLoad:this.handleInfiniteLoad,elementInfiniteLoad:this.elementInfiniteLoad,elements:this.state.elements,isInfiniteLoading:this.state.isInfiniteLoading})}}]),t}(c.Component);function Pc(){var e=Object(x.a)(["\n  width: 100%;\n  background-image: url('img/concentric-hex-pattern_2x_black.png');\n  background-repeat: repeat;\n  padding: 5px 0;\n"]);return Pc=function(){return e},e}var Ac=w.default.section(Pc()),Tc=function(e){function t(e){var n;Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).handleInfiniteLoad=function(){var e=Object(eo.a)(Object(eo.a)(n));n.setState({isInfiniteLoading:!0}),setTimeout((function(){var t=e.state.elements.length,n=e.buildElements(t,t+10);e.setState({isInfiniteLoading:!1,elements:e.state.elements.concat(n)})}),100)},n.elementInfiniteLoad=function(){return u.a.createElement("div",{className:"infinite-list-item"},"Loading...")};var r="https://"+Vr.Base64.decode(n.props.match.params.friend);return n.state={friendWebId:r,routes:[],isInfiniteLoading:!1,elements:[]},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"loadData",value:function(){this.getRoutes(this.state.friendWebId)}},{key:"getRoutes",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.substring(8,t.length-16);case 2:return n=e.sent,e.next=5,mo(this.props.webId,n);case 5:return r=e.sent,e.next=8,this.setState({routes:r});case 8:r=this.state.routes.map((function(e){return e.replace("https://","")})),this.setState({routes:r});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildElements",value:function(e,t){for(var n=[],r=e;r<t&&void 0!==this.state.routes[r];r++)n.push(u.a.createElement(Dc,{key:r,num:r,url:this.state.routes[r]}));return n}},{key:"render",value:function(){this.loadData();var e=this.props.webId,t=this.state.friendWebId;return 0===this.state.routes.length?u.a.createElement(Ac,null,u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(uc,{"data-testid":"friendBar-wrapper"},u.a.createElement(oc,{webId:e,friendWebId:t}))),u.a.createElement(Ni.a,null,u.a.createElement("div",null)))):u.a.createElement(Ac,null,u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(uc,{"data-testid":"friendBar-wrapper"},u.a.createElement(oc,{webId:e,friendWebId:t}))),u.a.createElement(Ni.a,null,u.a.createElement(Jr,{elements:this.state.elements,isInfiniteLoading:this.isInfiniteLoading,handleInfiniteLoad:this.handleInfiniteLoad,elementInfiniteLoad:this.state.elementInfiniteLoad}))))}}]),t}(c.Component),zc=Rc;function Gc(){var e=Object(x.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  display: inline-table;\n"]);return Gc=function(){return e},e}function Mc(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return Mc=function(){return e},e}var Bc=w.default.img(Mc()),_c=w.default.div(Gc()),Wc=function(e){var t=e.webId,n=e.friends,r=e.images,a=Object(p.c)().t;return u.a.createElement("div",{fluid:!0,"data-testid":"manageFriends-container"},n.map((function(e){return u.a.createElement(Ni.a,{className:"friend","data-testid":e+"d"},u.a.createElement(Li.a,{md:10,sm:10,xs:10},u.a.createElement(Ur.a,{variant:"light",className:"buttonFriend",onClick:function(t){return Ro(t,e)},"data-testid":"buttonFriend"+e,key:"buttonFriend"+e,id:"buttonFriend"+e},u.a.createElement(_c,{"data-testid":"imageContainer"+e,key:"imageContainer"+e},u.a.createElement(Bc,{src:zo(e,r),alt:"profile","data-testid":"img"+e,key:"img"+e})),To(e))),u.a.createElement(Li.a,{md:2,sm:2,xs:2},u.a.createElement(ac.a,{variant:"light",key:e+"dropdown",id:e+"dropdown",title:""},u.a.createElement(rc.a.Item,{as:"button",onClick:function(t){return Fo(t,e)},key:e+"dropdownI1"},a("manageFriends.viewProfile")),u.a.createElement(rc.a.Item,{as:"button",onClick:function(n){return Co(n,e,t)},key:e+"dropdownI2",id:e+"dropdownDelete"},a("manageFriends.delete")),u.a.createElement(rc.a.Item,{as:"button",onClick:function(t){return Ro(t,e)},key:e+"dropdownI3"},a("manageFriends.viewRoutes")))))})))};function Uc(){var e=Object(x.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  display: inline-table;\n"]);return Uc=function(){return e},e}function Vc(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return Vc=function(){return e},e}var Jc=w.default.img(Vc()),qc=w.default.div(Uc()),Xc=function(e){var t=e.webId,n=e.searchResults,r=e.images,a=Object(p.c)().t;return u.a.createElement("div",{"data-testid":"searchFriends-component"},n.map((function(e){return u.a.createElement(Ni.a,{className:"friend"},u.a.createElement(Li.a,{xs:10,md:10,sm:10},u.a.createElement(Ur.a,{variant:"light",className:"buttonFriend",onClick:function(t){return Ro(t,e)},"data-testid":"buttonFriend"+e,key:"buttonFriend"+e,id:"buttonFriend"+e},u.a.createElement(qc,{className:"picture","data-testid":"imageContainer"+e,key:"imageContainer"+e},u.a.createElement(Jc,{style:{"border-radius":"50%"},src:zo(e,r),alt:"profile","data-testid":"img"+e,key:"img"+e})),To(e))),u.a.createElement(Li.a,{md:2,sm:2,xs:2},u.a.createElement(ac.a,{variant:"light",key:e+"dropdown",id:e+"dropdown",title:""},u.a.createElement(rc.a.Item,{as:"button",onClick:function(t){return Fo(t,e)},key:e+"dropdownI1"},a("manageFriends.viewProfile")),u.a.createElement(rc.a.Item,{as:"button",onClick:function(n){return Co(n,e,t)},key:e+"dropdownI2",id:e+"dropdownDelete"},a("manageFriends.delete")),u.a.createElement(rc.a.Item,{as:"button",onClick:function(t){return Ro(t,e)},key:e+"dropdownI3"},a("manageFriends.viewRoutes")))))})))},Hc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={status:200,done:!1},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){}},{key:"ldflexAdder",value:function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.a[this.props.webId].knows.add(G.a[t]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reload",value:function(){window.location.reload(!0)}},{key:"resumeExecutionAfter3Seconds",value:function(){return new Promise((function(e){setTimeout((function(){e("resolved")}),3e3)}))}},{key:"addFriend",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var n,r,a,i=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.t,t.preventDefault(),r=document.getElementById("webId").value,-1!==(a=r).search("/profile/card#me")?fetch(a).then((function(e){i.setState({status:e.status,done:!0})})).then((function(e){200===i.state.status?(i.ldflexAdder(a),R(n("manageFriends.addFriendSucess")),i.resumeExecutionAfter3Seconds().then((function(e){return i.reload()}))):404===i.state.status?D(n("manageFriends.error.nonexistentWebID")):D(n("manageFriends.error.defaultErrorMessage"))})):D(n("manageFriends.error.notValidWebID"));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t;return u.a.createElement(Ui.a,{"data-testid":"addFriendForm"},u.a.createElement(Ui.a.Group,null,u.a.createElement(Ui.a.Label,{className:"label","data-testid":"addFriendLabel"},t("manageFriends.addFriendExplanation")),u.a.createElement(Ui.a.Control,{className:"inputAdd",id:"webId",type:"text",placeholder:t("manageFriends.webIDExample"),"data-testid":"webIdFriend"})),u.a.createElement(Ur.a,{id:"addFriendButton",className:"addFriendButton",variant:"light",onClick:function(t){return e.addFriend(t)},style:{paddingLeft:"1px"},"data-testid":"addFriendButton"},t("manageFriends.addFriend")))}}]),t}(c.Component),Kc=Object(p.d)()(Hc);function Yc(){var e=Object(x.a)(["\n  width: 100%; \n  background-image: url('img/concentric-hex-pattern_2x_black.png');\n  background-repeat: repeat;\n  flex-direction: row !important;\n  align-items: left;\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n  \n  .inputAdd{\n    width: 100%;\n    max-width: 65em;\n  }\n\n  .label{\n    color: #18A9E6;\n    margin: 20px 20px 0px 0px;\n    font-size: 20px;\n    line-height: 20px;\n    font-weight: bold;\n    letter-spacing: 0.75px;\n  }\n\n  .friend{\n    margin-top: 20px;\n  }\n\n  .input{\n    max-width: 65em;\n  }\n\n  .buttonFriend:hover, .addFriendButton:hover, .buttonDelete:hover{\n    color: #01C9EA;\n  }\n  .buttonFriend, .addFriendButton{\n    padding-left: 2px;\n    padding-right: 2px;\n    margin-right: 2px;\n    overflow-wrap: break-word;\n  }\n\n  .buttonFriend{\n    text-align: left;\n    width: 100%;\n  }\n\n  .addFriendButton{\n    text-align: center;\n    max-width: 65em;\n    min-width: 30%;\n  }\n\n  #updateName, #addToGroupButton, #deleteGroup{\n    width: 100%;\n  }\n\n  #deleteGroup{\n    margin-top: 5px;\n  }\n\n  #addToGroupButton{\n    margin-bottom: 20px;\n  }\n\n  #groupName, #webIdGroupAdd{\n    max-width: 100%;\n  }\n\n  .picture{\n    overflow: visible;\n    padding-right: 10px;\n    padding-left: 10px;\n    width: 62px;\n    height: 42px;\n    border-radius: 50%;\n  }\n\n"]);return Yc=function(){return e},e}var $c=w.default.div(Yc()),Qc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).handleClick=function(e){n.updateGroupState(e)},n.updateGroupState=function(e){n.setState({currentGroup:e}),n.getCurrentURLS(e)},n.getCurrentURLS=function(e){Mo(e).then(function(e){this.setState({currentURLS:e})}.bind(Object(eo.a)(Object(eo.a)(n))))},n.state={webId:e.webId,groups:e.groups,currentGroup:null,currentURLS:[]},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"addToGroup",value:function(e){e.preventDefault();var t=document.getElementById("webIdGroupAdd").value;""!==t&&_o(t).then(function(e){e&&(Wo(t,this.state.currentGroup),this.setState({currentURLS:this.state.currentURLS.concat(t)}))}.bind(this))}},{key:"deleteFromGroup",value:function(e,t){e.preventDefault(),Vo(t,this.state.currentGroup).then(function(){this.updateGroupState(this.state.currentGroup)}.bind(this))}},{key:"deleteGroup",value:function(e){e.preventDefault(),Uo(this.state.currentGroup).then(function(){var e=this;this.setState({groups:this.state.groups.filter((function(t){return t.url!==e.state.currentGroup})),currentGroup:null})}.bind(this))}},{key:"rename",value:function(e){e.preventDefault();var t=document.getElementById("groupName").value;if(""!==t){if("new"===this.state.currentGroup)return void Jo(this.state.webId,t).then(function(e){this.setState({currentGroup:e,groups:this.state.groups.concat({name:t,url:e})})}.bind(this));qo(this.state.currentGroup,t)}}},{key:"newGroup",value:function(e){e.preventDefault(),this.setState({currentGroup:"new",currentURLS:[]})}},{key:"render",value:function(){var e=this;if(this.state.groups){var t=this.state.groups.map((function(t){return{label:t.name,onClick:function(){this.handleClick(t.url)}.bind(e)}})),n=this.state.groups.find((function(t){return t.url===e.state.currentGroup}));"new"===this.state.currentGroup&&(n={name:"Write a new Name"}),t.push({label:"newGroup",onClick:function(e){this.newGroup(e)}.bind(this)});var r=this.state.currentURLS;return null!=this.state.currentGroup?u.a.createElement($c,null,u.a.createElement(Ui.a,null,u.a.createElement(Ui.a.Label,{className:"label"},"GROUP MANAGER")),u.a.createElement(Be,{actions:t,hover:!0,style:{width:"50%"}},u.a.createElement("div",{id:"seleccionarGrupo"},"Seleccionar Grupo")),u.a.createElement(Ui.a,null,u.a.createElement(Ui.a.Group,null,u.a.createElement(Ui.a.Label,{className:"label",style:{"font-size":"16px",marginBottom:"10px",marginTop:"15px"}},"Group Name:"),u.a.createElement(Ui.a.Control,{id:"groupName",className:"inputAdd",type:"text",placeholder:n.name})),u.a.createElement(Ur.a,{id:"updateName",className:"addFriendButton",variant:"light",onClick:function(t){return e.rename(t)},"data-testid":"updateName"},"new"!==this.state.currentGroup?"Update Name":"Create Group")),"new"!==this.state.currentGroup&&u.a.createElement(Ur.a,{id:"deleteGroup",className:"addFriendButton",variant:"light",onClick:function(t){return e.deleteGroup(t)},"data-testid":"addToGroupButton"},"Delete group"),"new"!==this.state.currentGroup&&u.a.createElement("div",{id:"groupManager"},u.a.createElement(Ui.a.Label,{className:"label",style:{"font-size":"16px"}},"GROUP MEMBERS:"),r&&r.length>0&&r.map((function(t){return u.a.createElement(Ni.a,{id:"group"},u.a.createElement(Zo.a,{id:t,style:{width:"60%",margin:"10px 10px 10px 15px",padding:"5px"},text:"dark","data-testid":t},t.replace("https://","").replace("/profile/card#me","")),u.a.createElement(Ur.a,{align:"right",style:{margin:"10px 0px 10px 0px"},variant:"light",onClick:function(n){return e.deleteFromGroup(n,t)},width:"100%",className:"buttonDelete"},"Eliminar"))})),";"),"new"!==this.state.currentGroup&&u.a.createElement(Ui.a,null,u.a.createElement(Ui.a.Group,null,u.a.createElement(Ui.a.Label,{className:"label",style:{"font-size":"16px",marginBottom:"10px"}},"Enter the webID of the person you want to add to the group:"," "),u.a.createElement(Ui.a.Control,{id:"webIdGroupAdd",className:"inputAdd",type:"text",placeholder:"WebId example: https://mariaflorez.solid.community/profile/card#me"})),u.a.createElement(Ur.a,{id:"addToGroupButton",className:"addFriendButton",variant:"light",onClick:function(t){return e.addToGroup(t)},"data-testid":"addToGroupButton"},"Add to group"))):u.a.createElement($c,null,u.a.createElement(Ui.a,null,u.a.createElement(Ui.a.Label,{className:"label"},"GROUP MANAGER")),u.a.createElement(Be,{actions:t,hover:!0},u.a.createElement("div",{id:"seleccionarGrupo"},"Seleccionar Grupo")))}var a=[];return a.push({label:"newGroup",onClick:function(e){this.newGroup(e)}.bind(this)}),u.a.createElement($c,null,u.a.createElement(Be,{actions:a,hover:!0},u.a.createElement("div",{id:"seleccionarGrupo"},"Seleccionar Grupo"))," ",u.a.createElement("div",{id:"groupManager"},"No groups found")," ")}}]),t}(c.Component),Zc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={friends:null,searchResults:null,images:[],groups:null},n.handleChange=n.handleChange.bind(Object(eo.a)(Object(eo.a)(n))),n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.loadFriends(),this.searchFriends(""),this.loadGroups().then(function(e){this.setState({groups:e})}.bind(this))}},{key:"loadGroups",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(this.props.webId);case 2:if(!(t=e.sent).files){e.next=6;break}return n=t.files.map(function(){var e=Object(P.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(t.url);case 2:return e.t0=e.sent,e.t1=t.url,e.abrupt("return",{name:e.t0,url:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(n).then((function(e){return e})));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFriends",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(So.a)(this.props.webId);case 2:return t=e.sent,n=t.getSubject(this.props.webId),r=n.getAllRefs(jo.a.knows),this.setState({friends:r}),e.next=8,this.loadImage(this.state.friends);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(){var e=Object(P.a)(N.a.mark((function e(t){var n=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){G.a[e].vcard_hasPhoto.then((function(t){if(t&&t.value){var r=n.state.images;r.push({id:e,img:t.value}),n.setState({images:r})}else{var a=n.state.images;a.push({id:e,img:"img/icon/empty-profile.svg"}),n.setState({images:a})}}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchFriends",value:function(e){if(""!==e){var t=this.state.friends.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}));this.setState({searchResults:t})}}},{key:"handleChange",value:function(e){var t=e.target.value;""!==t&&this.searchFriends(t)}},{key:"render",value:function(){var e=this.props.t;if(null!=this.state.friends&&this.state.groups){var t=this.state.friends,n=this.state.images,r=this.props.webId;if(null==this.state.searchResults)return u.a.createElement($c,{"data-testid":"manageFriends-wrapper"},u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{md:6,sm:6,xs:12},u.a.createElement(Kc,{webId:r}),u.a.createElement(Ui.a,null,u.a.createElement(Ui.a.Group,null,u.a.createElement(Ui.a.Label,{className:"label","data-testid":"manageFriends-listOfFriends"},e("manageFriends.listOfFriends")),u.a.createElement(Ui.a.Control,{type:"text",id:"inputSearch",className:"input",placeholder:e("manageFriends.searchPlaceholder"),onChange:this.handleChange,"data-testid":"manageFriends-searchBar"}))),u.a.createElement(Wc,{webId:r,friends:t,images:n})),u.a.createElement(Li.a,{md:6,sm:6,xs:12},u.a.createElement(Qc,{webId:r,groups:this.state.groups})))));var a=this.state.searchResults;return u.a.createElement($c,{"data-testid":"manageFriends-wrapper"},u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{md:6,sm:6,xs:12},u.a.createElement(Kc,{webId:r}),u.a.createElement(Ui.a,null,u.a.createElement(Ui.a.Group,null,u.a.createElement(Ui.a.Label,{className:"label","data-testid":"manageFriends-listOfFriends"},e("manageFriends.listOfFriends")),u.a.createElement(Ui.a.Control,{type:"text",id:"inputSearch",className:"input",placeholder:e("manageFriends.searchPlaceholder"),onChange:this.handleChange,"data-testid":"manageFriends-searchBar"}))),u.a.createElement(Xc,{webId:r,searchResults:a,images:n})),u.a.createElement(Li.a,{md:6,sm:6,xs:12},u.a.createElement(Qc,{webId:r,groups:this.state.groups})))))}return u.a.createElement(Ze,null)}}]),t}(c.Component),eu=Object(p.d)()(Zc);function tu(){var e=Object(x.a)(["\nwidth: 100%;\nbackground-image: url('img/concentric-hex-pattern_2x_black.png');\nbackground-repeat: repeat;\n"]);return tu=function(){return e},e}var nu=w.default.section(tu()),ru=n(179),au=n(355),iu={lat:0,lng:-180},ou=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).completePolyline=n.completePolyline.bind(Object(eo.a)(Object(eo.a)(n))),n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"completePolyline",value:function(e){if(null===this.props.getPolyline()){var t=[];e.getPath().forEach((function(e){t.push(new Ri(e.lat(),e.lng()))})),this.props.setPolyline(e),this.props.setWaypoints(t)}else this.props.getPolyline().setMap(null)}},{key:"render",value:function(){return u.a.createElement(ru.GoogleMap,{id:"mapRouteCreator",zoom:2,resetBoundsOnResize:!0,mapContainerStyle:{"max-height":"calc(100vh - 180px)",height:"800px",width:"100%",padding:"1rem 3.5rem"},loadingElement:u.a.createElement("div",null,"Loading..."),center:iu},u.a.createElement(au.DrawingManager,{defaultDrawingMode:window.google.maps.drawing.OverlayType.POLYLINE,defaultOptions:{drawingControl:!0,drawingControlOptions:{position:window.google.maps.ControlPosition.TOP_CENTER,drawingModes:[window.google.maps.drawing.OverlayType.POLYLINE]}},onPolylineComplete:this.completePolyline}))}}]),t}(c.Component),cu=Object(ru.withScriptjs)(Object(ru.withGoogleMap)(ou));function uu(){var e=Object(x.a)(["\n    margin: 20px auto;\n    .label{\n        font-size: 20px;\n        color: #18A9E6;\n    }\n"]);return uu=function(){return e},e}var su=w.default.section(uu()),lu=function(e){var t=e.setName,n=e.handleSubmit,r=e.setDescription,a=Object(p.c)().t;return u.a.createElement(su,null,u.a.createElement(Ui.a,{onSubmit:n},u.a.createElement(Ui.a.Group,{controlId:"formName"},u.a.createElement(Ui.a.Label,{className:"label"},a("createRouteView.lateralForm.routeName")),u.a.createElement(Ui.a.Control,{type:"text",placeholder:a("createRouteView.defaultFormValues.name"),onChange:function(e){t(e.currentTarget.value)}}),u.a.createElement(Ui.a.Control.Feedback,null,"Looks good!")),u.a.createElement(Ui.a.Group,{controlId:"formSurname"},u.a.createElement(Ui.a.Label,{className:"label"},a("createRouteView.lateralForm.routeDescription")),u.a.createElement(Ui.a.Control,{as:"textarea",rows:"3",placeholder:a("createRouteView.defaultFormValues.description"),onChange:function(e){r(e.currentTarget.value)}})),u.a.createElement(Ur.a,{variant:"primary",type:"submit"},a("createRouteView.lateralForm.createButton"))))},du=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).state={name:"",description:"",waypoints:[],polyline:null},n.handleSetName=n.handleSetName.bind(Object(eo.a)(Object(eo.a)(n))),n.handleSetDescription=n.handleSetDescription.bind(Object(eo.a)(Object(eo.a)(n))),n.handleSetWaypoints=n.handleSetWaypoints.bind(Object(eo.a)(Object(eo.a)(n))),n.handleSetPolyline=n.handleSetPolyline.bind(Object(eo.a)(Object(eo.a)(n))),n.handleGetPolyline=n.handleGetPolyline.bind(Object(eo.a)(Object(eo.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(eo.a)(Object(eo.a)(n))),n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"handleSetName",value:function(e){this.setState({name:e})}},{key:"handleSetDescription",value:function(e){this.setState({description:e})}},{key:"handleSetWaypoints",value:function(e){this.setState({waypoints:e})}},{key:"handleSetPolyline",value:function(e){this.setState({polyline:e})}},{key:"handleGetPolyline",value:function(){return this.state.polyline}},{key:"handleSubmit",value:function(e){var t=this.props.t;if(this.state.name&&""!==this.state.name)if(this.state.polyline){var n=new zi({name:this.state.name,description:this.state.description,itinerary:this.state.waypoints,resources:[],comments:[]});this.state.polyline.setMap(null),this.setState({polyline:null}),fo(n,(function(e){e?R(t("createRouteView.success")):D(t("createRouteView.errors.error"))})),e.preventDefault()}else D(t("createRouteView.errors.routeEmpty"));else D(t("createRouteView.errors.nameEmpty"))}},{key:"render",value:function(){return u.a.createElement(nu,null,u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{xs:12,md:7,sm:8},u.a.createElement(cu,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBMF5XiwVXHrXjoCp0EsBbGoeKW08lHoo0&libraries=drawing",loadingElement:u.a.createElement("div",{style:{height:"100%"}}),containerElement:u.a.createElement("div",{style:{height:"800px",border:"2px solid #fff",margin:"20px auto","max-height":"calc(100vh - 180px)"}}),mapElement:u.a.createElement("div",{style:{height:"100%"}}),setWaypoints:this.handleSetWaypoints,waypoints:this.state.waypoints,setPolyline:this.handleSetPolyline,getPolyline:this.handleGetPolyline})),u.a.createElement(Li.a,{xs:12,md:5,sm:4},u.a.createElement(lu,{setDescription:this.handleSetDescription,setName:this.handleSetName,handleSubmit:this.handleSubmit,name:this.state.name,description:this.state.description})))))}}]),t}(c.Component),pu=Object(p.d)()(du);function mu(){var e=Object(x.a)(["\n  color: #18A9E6;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return mu=function(){return e},e}function fu(){var e=Object(x.a)(["\n  flex-direction: row !important;\n  align-items: center;\n  border: 2px solid #fff ;\n"]);return fu=function(){return e},e}function hu(){var e=Object(x.a)(['\nwidth: 100%;\nbackground-image: url("img/concentric-hex-pattern_2x_black.png");\nbackground-repeat: repeat;\npadding: 50px 0;\n\nh3 {\n  color: #18A9E6;\n  span {\n    font-weight: bold;\n  }\n  a {\n    font-size: 1.9rem;\n  }\n}\n']);return hu=function(){return e},e}w.default.section(hu());var bu=w.default.div(fu()),gu=w.default.span(mu()),vu=function(e){var t=e.routeArray,n=Object(p.c)().t;return u.a.createElement("div",null,u.a.createElement(gu,null,n("mapView.importedRoutesTitle")),u.a.createElement(bu,null,u.a.createElement(Oi.a,{id:"mapView",zoom:12,resetBoundsOnResize:!0,mapContainerStyle:{"max-height":"calc(100vh - 180px)",height:"800px",width:"100%",padding:"1rem 3.5rem"},loadingElement:u.a.createElement(Ze,null),center:{lat:t[0].itinerary[0].latitude,lng:t[0].itinerary[0].longitude}},t.map((function(e){return u.a.createElement(Oi.b,{title:e.name,position:{lat:e.itinerary[0].latitude,lng:e.itinerary[0].longitude}})})),t.map((function(e){var t=[];return e.itinerary.forEach((function(e){t.push({lat:e.latitude,lng:e.longitude})})),u.a.createElement(Oi.c,{geodesic:!0,options:{path:t,strokeColor:"#ff0000",strokeOpacity:1,strokeWeight:6,icons:[{offset:"0",repeat:"10px"}]}})})))))};function xu(){var e=Object(x.a)(["\n  flex-direction: row !important;\n  align-items: center;\n  border: 2px solid #fff ;\n"]);return xu=function(){return e},e}function wu(){var e=Object(x.a)(["\nwidth: 100%;\nbackground-image: url('img/concentric-hex-pattern_2x.png');\nbackground-repeat: repeat;\npadding: 50px 0;\n\nh3 {\n  color: #18A9E6;\n  span {\n    font-weight: bold;\n  }\n  a {\n    font-size: 1.9rem;\n  }\n}\n"]);return wu=function(){return e},e}w.default.section(wu());var Eu=w.default.div(xu()),Ou=function(e){var t=e.centralLat,n=e.centrarLong;return u.a.createElement("div",null,u.a.createElement(Eu,null,u.a.createElement(Oi.a,{id:"mapView",zoom:12,resetBoundsOnResize:!0,mapContainerStyle:{"max-height":"calc(100vh - 180px)",height:"800px",width:"100%",padding:"1rem 3.5rem"},loadingElement:u.a.createElement("div",null,"Loading..."),center:{lat:t,lng:n}},u.a.createElement(Oi.c,{geodesic:!0,options:{strokeColor:"#ff0000",strokeOpacity:1,strokeWeight:6,icons:[{offset:"0",repeat:"10px"}]}}))))},yu=n(356);function ku(e,t){Object(yu.parseGpx)(e,(function(e,n){var r=[],a=[],i=n.waypoints,o=n.tracks;return i.forEach((function(e){a.push(new Pi(e.name,e.desc,e.lat,e.lon,e.elevation))})),o.forEach((function(e){var t=function(e){var t=function(e){var t=[];return e.segments.forEach((function(e){e.forEach((function(e){t.push(new Ri(e.lat,e.lon,e.elevation))}))})),t}(e),n={name:e.name,description:e.description,waypoints:e.waypoints,itinerary:t};return new zi(n)}(e);t.addWaypoints(a),r.push(t)})),t(r)}))}function ju(){var e=Object(x.a)(["\nwidth: 100%;\nbackground-color: #fff;\nbackground-repeat: repeat;\npadding: 20px;\n"]);return ju=function(){return e},e}function Su(){var e=Object(x.a)(["\nwidth: 100%;\nbackground-color: #fff;\nbackground-repeat: repeat;\npadding: 20px;\n"]);return Su=function(){return e},e}var Iu=w.default.div(Su()),Nu=w.default.div(ju()),Cu=function(e){var t=Object(p.c)().t,n=Object(c.useState)(null),r=Object(ot.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(null),s=Object(ot.a)(o,2),l=s[0],d=s[1],m=Object(c.useCallback)((function(n){1!==n.length?D(t("error.sizeLimitImport"),"Error"):(i(n.map((function(e){return u.a.createElement("li",{key:e.path},e.path)}))),d(n),n.forEach((function(n){var r=new FileReader;r.onabort=function(){return D(t("error.fileReadError"),"Error")},r.onerror=function(){return D(t("error.fileReadError"),"Error")},r.onload=function(){var n=r.result;try{ku(n,(function(n){n.length>0?e.setRoute(n):D(t("error.gpxNotRoutes"),t("error.gpxNotRoutesTitle"))}))}catch(a){D(t("error.importVisualizeError"),"Error")}},r.readAsText(n)})))}),[]),f={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",border:"50px",borderWidth:3,borderRadius:2,borderColor:"#d6d6d6",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},h={borderColor:"#2196f3"},b={borderColor:"#00e676"},g={borderColor:"#ff1744"},v=Object(Fi.a)({accept:".gpx",maxFiles:1,onDrop:m}),x=v.getRootProps,w=v.getInputProps,E=v.isDragActive,O=v.isDragAccept,y=v.isDragReject,k=Object(c.useMemo)((function(){return Object(K.a)({},f,E?h:{},O?b:{},y?g:{})}),[E,y]);return u.a.createElement(Ui.a,{onSubmit:function(n){l.forEach((function(r){var a=new FileReader;a.onabort=function(){return D(t("error.fileReadError"),"Error")},a.onerror=function(){return D(t("error.fileReadError"),"Error")},a.onload=function(){var n=a.result;try{var r=!0;ku(n,(function(n){n.forEach((function(e){fo(e,(function(e){r=r&&e}))})),r&&n.length>0?(R(t("import.success"),t("import.successTitle")),d(null),i(null)):D(t("import.failure"),t("import.failureTitle")),n.length>0?e.setRoute(n):D(t("error.gpxNotRoutes"),t("error.gpxNotRoutesTitle"))}))}catch(o){D(t("error.importError"),"Error")}},a.readAsText(r),n.preventDefault()}))}},u.a.createElement(Nu,null,u.a.createElement("div",Object.assign({"data-testid":"dropMenu"},x({style:k})),u.a.createElement("input",w()),u.a.createElement("p",null,t("import.dragAndDropMain")),u.a.createElement("p",null,t("import.dragAndDropSupported")))),u.a.createElement(Iu,null,u.a.createElement("p",null,t("import.dragAndDropCurrentFiles")),u.a.createElement("ul",null,a),u.a.createElement(Ur.a,{variant:"primary",type:"submit",disabled:null===l},t("import.submitButton"))))};function Lu(){var e=Object(x.a)(['\nwidth: 100%;\nbackground-image: url("img/concentric-hex-pattern_2x_black.png");\nbackground-repeat: repeat;\npadding: 50px 0;\n\nh3 {\n  color: #666666;\n  span {\n    font-weight: bold;\n  }\n  a {\n    font-size: 1.9rem;\n  }\n}\n']);return Lu=function(){return e},e}var Fu=w.default.div(Lu()),Du=[{id:"welcome",path:"/welcome",component:di},{id:"map",path:"/map/:route",component:Qo},{id:"manageFriends",path:"/manageFriends",component:eu},{id:"manageFriends",path:"/friendRoutes/:friend",component:Tc},{id:"seeRoutes",path:"/seeRoutes",component:zc},{id:"createRoute",path:"/createRoute",component:pu},{id:"importRoute",path:"/importRoute",component:function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(ke.a)(t).call(this,e))).setRoute=function(e){n.setState({importedRoute:!0,route:e})},n.viewRoute=function(e){return u.a.createElement(Fu,null,u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{xs:6,md:4},u.a.createElement(Cu,null)),u.a.createElement(Li.a,{xs:12,md:8},u.a.createElement(vu,{routeArray:e})))))},n.state={importedRoute:!1,route:null},n}return Object(je.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this.state.importedRoute;return u.a.createElement(c.Fragment,null,e?this.viewRoute(this.state.route):u.a.createElement(Fu,null,u.a.createElement(Ci.a,{fluid:!0},u.a.createElement(Ni.a,null,u.a.createElement(Li.a,{xs:6,md:4},u.a.createElement(Cu,{setRoute:this.setRoute})),u.a.createElement(Li.a,{xs:12,md:8},u.a.createElement(Ou,{centralLat:40.411104,centrarLong:-3.705367}))))))}}]),t}(c.Component)}],Ru=function(){return u.a.createElement(la.a,null,u.a.createElement(c.Fragment,null,u.a.createElement(Qr.a,null,u.a.createElement($r,{component:wa,path:"/login",exact:!0}),u.a.createElement($r,{component:_a,path:"/register",exact:!0}),u.a.createElement($r,{path:"/register/success",component:Ga,exact:!0}),u.a.createElement(sa,{path:"/404",component:qa,exact:!0}),u.a.createElement(kt.a,{from:"/",to:"/login",exact:!0}),u.a.createElement(ra,{path:"/",routes:Du}),u.a.createElement(kt.a,{to:"/404"}))))},Pu={colors:{},tictactoe:{movex:"#13428f",moveo:"#820d2c",awaiting:"#cf6700",created:"#039c40",finished:"#8200a6"}};n(712),n(714),n(716),n(718),n(720);function Au(){var e=Object(x.a)(["\n  &.solid-toaster-container {\n    & .toaster-error {\n      color: #fff;\n      background: rgba(213, 0, 0, 0.9);\n    }\n\n    & .toaster-success {\n      color: #fff;\n      background: rgba(124, 77, 255, 0.9);\n    }\n  }\n\n  & .solid-toaster {\n    border-radius: 4px;\n    color: #fff;\n    display: flex;\n    align-content: center;\n    min-height: 72px;\n    margin: 0;\n\n    & > .solid-toaster-body {\n      margin: 0;\n      display: flex;\n    }\n\n    & > button {\n      color: #fff;\n      opacity: 0.8;\n    }\n  }\n"]);return Au=function(){return e},e}var Tu=Object(w.default)(v.b)(Au());n(723);wt.c.add(Et.a),wt.c.add(Ot.a);var zu=function(){return u.a.createElement(c.Suspense,{fallback:u.a.createElement(Ze,null)},u.a.createElement(w.ThemeProvider,{theme:Pu},u.a.createElement(c.Fragment,null,u.a.createElement(Ru,null),u.a.createElement(Tu,{autoClose:3e3,position:v.c.POSITION.TOP_CENTER,newestOnTop:!0,closeOnClick:!0,pauseOnVisibilityChange:!0,draggable:!0,className:"solid-toaster-container",toastClassName:"solid-toaster",bodyClassName:"solid-toaster-body",transition:v.a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gu=n(359);l.a.render(u.a.createElement(jt,{component:function(e,t){return u.a.createElement(Ut,{error:e,info:t})}},u.a.createElement(Gu.a,null,u.a.createElement("script",{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBMF5XiwVXHrXjoCp0EsBbGoeKW08lHoo0"})),u.a.createElement(zu,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[372,1,2]]]);
//# sourceMappingURL=main.e29507f8.chunk.js.map